import{r as s,j as t}from"./react-Dbae-1t-.js";import{q as f,t as h,S as T,g as N,r as b,s as S,v as E}from"./index-Ti_SyAvp.js";import{u as z,a as C,b as L,c as R,d as _,e as A,i as p}from"./echarts-CrZI9CbR.js";import{T as B}from"./TxList-BWFaDr_G.js";import{f as O}from"./ethers-BstvhKrt.js";import"./call-bind-4VeKFXIy.js";import"./get-intrinsic-CWn9CxNF.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-D5MMniOg.js";import"./define-data-property-CxeqjjfW.js";import"./es-define-property-DnzLCweE.js";import"./gopd-9AXXY7mE.js";import"./has-property-descriptors-Ck9uAkqi.js";import"./react-dom-RqR84h2O.js";import"./scheduler-D70Pw1t3.js";import"./react-router-dom-B7T5vhQH.js";import"./react-router-d-_b1Iim.js";import"./@remix-run-CSnr7utK.js";import"./react-redux-DZNLuWiI.js";import"./use-sync-external-store-BQt0fPyv.js";import"./@reduxjs-C9AHhNnv.js";import"./redux-BxK6wq0X.js";import"./immer-CuGu772C.js";import"./reselect-BDnngDK3.js";import"./redux-thunk-ClJT1hhx.js";import"./moment-CbGOrKEH.js";import"./antd-B1Bfy7T0.js";import"./@ant-design-DhuGsSLu.js";import"./rc-util-b8MotyWn.js";import"./@babel-DVGmkmWW.js";import"./@emotion-CW87jbl0.js";import"./stylis-DsJDcYJc.js";import"./classnames-CwUkGHy7.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@ctrl-4GH61kPu.js";import"./rc-resize-observer-BT50-agu.js";import"./rc-motion-CPn7kFV_.js";import"./rc-tooltip-BTFSS5G-.js";import"./@rc-component-CkHcVsFC.js";import"./rc-overflow-D66kcHkR.js";import"./rc-menu-FgsZTwbW.js";import"./rc-select-Brpe2Itd.js";import"./rc-virtual-list-WFI9C2wp.js";import"./rc-field-form-b9ZynPVK.js";import"./rc-dialog-BmS-XQkh.js";import"./rc-notification-cP4c8BM8.js";import"./rc-table-B1BzEA06.js";import"./rc-tree-De_PNtof.js";import"./rc-checkbox-DsYJivWK.js";import"./rc-pagination-BlBRvBEP.js";import"./rc-picker-pQPBJH7o.js";import"./rc-dropdown-CnEtRwlx.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-BXdVvGXm.js";import"./rc-textarea-CoSCeEUD.js";import"./react-transition-group-Jg3vAkUA.js";import"./dom-helpers-D0mFdbeO.js";import"./axios-BtoyVZBe.js";import"./promise.prototype.finally-DJCfT-IS.js";import"./define-properties-DbWdedhA.js";import"./object-keys-r3t7_5tw.js";import"./es-abstract-CgmC-o8X.js";import"./is-callable-DcnXhopT.js";import"./set-function-name-DTEANxoX.js";import"./functions-have-names-V93JBYlf.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CQaTwPXd.js";z([C,L,R,_,A]);function $(e){const o=s.useRef(null);let a;const n=f(()=>{if(a&&a.dispose(),o.current&&e.data){a=p(o.current);const m=e.data.totalErbieTx,r=e.data.totalTransaction-e.data.totalErbieTx-e.data.totalTransferTx,c=e.data.totalTransferTx,l=h(Number(m/e.data.totalTransaction)*100,2),d=h(Number(r/e.data.totalTransaction)*100,2),u=h(Number(c/e.data.totalTransaction)*100,2),x={tooltip:{trigger:"item"},legend:{right:"center",y:"center",orient:"vertical",borderRadius:120,left:"0",icon:"circle",itemStyle:{},textStyle:{color:"white"}},series:[{name:"TRANSACTIONS BY TYPE",type:"pie",radius:"88%",left:"220px",data:[{value:e.data.totalErbieTx,name:"Erbie Transactions (".concat(l,"%)"),itemStyle:{color:"#740091"}},{value:e.data.totalTransaction-e.data.totalErbieTx-e.data.totalTransferTx,name:"Contract Transactions (".concat(d,"%)"),itemStyle:{color:"#393552"}},{value:e.data.totalTransferTx,name:"Regular Way (".concat(u,"%)"),itemStyle:{color:"#4A336B"}}],label:{show:!1},seriesLayoutBy:"column",center:["50%","50%"],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],grid:{left:"10%",right:"10%",top:"10%",bottom:"20%"}};a.setOption(x)}},500);return s.useEffect(()=>(e.data&&n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[e.data]),t.jsx("div",{className:"w-100% flex justify-center",children:t.jsx("div",{id:"transition-chart",className:"w-84vw h-20vh lg:w-26vw lg:w-18vh",ref:o})})}function G(e){const o=s.useRef(null);let a;const n=f(()=>{const m=e.list.map(l=>({value:l.num})),r=e.list.map(l=>({value:l.hour}));a&&a.dispose();const c={xAxis:{type:"category",data:r,axisTick:{show:!1},axisLine:{lineStyle:{type:"dotted",color:"#eee",width:0}},axisLabel:{margin:23}},yAxis:{type:"value",min:5,splitNumber:3,nameTextStyle:{fontSize:20},axisLine:{lineStyle:{type:"dotted",color:"#eee",width:1}},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#acaaaa",width:1}}},series:[{data:m,type:"line",smooth:!0,lineStyle:{color:"#D300FE",width:3,shadowColor:"#D300FE",shadowBlur:18,shadowOffsetX:5,shadowOffsetY:5}}],grid:{left:"12%",right:"4%",top:"10%",bottom:"22%"}};o.current&&(a=p(o.current),a.setOption(c))},500);return s.useEffect(()=>(n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[e.list]),t.jsx("div",{className:"w-100% flex justify-center",children:t.jsx("div",{id:"volume-chart",className:"h-20vh w-84vw lg:h-22vh lg:w-22vw",ref:o})})}function te(){const[e,o]=s.useState(),a=async()=>{const i=await N();o(i)},[n,m]=s.useState(!1),[r,c]=s.useState(),l=s.useRef({page:1,page_size:10}),d=async()=>{try{m(!0);const i=await b(l.current);c(i)}finally{m(!1)}},[u,x]=s.useState(),v=async()=>{const i=await S();x(i&&i.length?i:[{hour:1,num:0},{hour:2,num:0},{hour:3,num:0},{hour:4,num:0},{hour:5,num:0},{hour:6,num:0},{hour:7,num:0},{hour:8,num:0},{hour:9,num:0},{hour:10,num:0},{hour:11,num:0},{hour:12,num:0},{hour:13,num:0},{hour:14,num:0},{hour:15,num:0},{hour:16,num:0},{hour:17,num:0},{hour:18,num:0},{hour:19,num:0},{hour:20,num:0},{hour:21,num:0},{hour:22,num:0},{hour:23,num:0}])},[g,w]=s.useState(0),j=async()=>{const i=await E();w(i)};s.useEffect(()=>{d(),a(),v(),j()},[]);const y=i=>{l.current.page=i,d()};return t.jsxs("div",{className:"page-transct min-h-70vh flex flex-col lg:flex-row",children:[t.jsxs("div",{className:"flex flex-col lg:w-35% gap-2vh",children:[t.jsx("div",{className:"flex-1 flex",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"hidden lg:block",children:t.jsx(T,{})}),t.jsxs("div",{className:"tb1 flex flex-col justify-evenly",children:[t.jsx("div",{className:"font-size-14px flex justify-center items-center w-100% lg:py-2vh",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"lh-20px",children:"24h TXN Volume Growth"}),t.jsxs("div",{className:"font-size-20px lh-20px ml-10px",children:[(g*100).toFixed(2),"%"]})]})}),t.jsx("div",{className:"w-100%",children:t.jsx(G,{list:u||[]})})]})]})}),t.jsx("div",{className:"flex flex-1",children:t.jsxs("div",{className:"tb2 flex flex-col justify-between flex-1",children:[t.jsx("div",{className:"font-size-14px h-60px lg:h-10vh flex justify-center items-center",children:"TRANSACTIONS BY TYPE"}),t.jsx("div",{className:"bingtu lg:h-20vh flex justify-center px-20px",children:t.jsx($,{data:e})})]})})]}),t.jsxs("div",{className:"w-100% lg:w-65% lg:ml-20px min-h-38vh",children:[t.jsxs("div",{className:"data-box flex gap-1vh mt-14px lg:mt-0",children:[t.jsx("div",{className:"data-card flex-1",children:t.jsxs("div",{className:"flex flex-col h-100% justify-between",children:[t.jsx("div",{className:"font-size-14px lg:font-size-16px",children:"Total Transaction Volume"}),t.jsxs("div",{className:"font-size-12px lg:font-size-24px",children:[h(O((e==null?void 0:e.totalAmount)||"0"))," ERB"]})]})}),t.jsx("div",{className:"data-card flex-1",children:t.jsxs("div",{className:"flex flex-col h-100% justify-between",children:[t.jsx("div",{className:"font-size-14px lg:font-size-16px",children:"Total Transactions"}),t.jsx("div",{className:"font-size-12px lg:font-size-24px",children:(e==null?void 0:e.totalTransaction)||"0"})]})})]}),t.jsx("div",{children:t.jsx("div",{className:"table-box mt-2vh",children:t.jsx(B,{onChange:y,loading:n,params:l,total:(r==null?void 0:r.total)||0,dataSource:(r==null?void 0:r.transactions)||[]})})})]})]})}export{te as default};
