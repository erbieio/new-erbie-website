import{r as l,j as e}from"./react-CBAF3Uyv.js";import{T as B}from"./Table-CfLOo64N.js";import{g as C,a as D,u as T,S as I,b as R,c as E,t as H}from"./index-MS1TGWfd.js";import{b as L}from"./react-router-Bhs03PUC.js";import{P as A,c as p}from"./antd-PzIqpPj_.js";import{f as M}from"./ethers-BstvhKrt.js";import"./call-bind-CXEXM7Og.js";import"./get-intrinsic-CWn9CxNF.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B7YY3Jzv.js";import"./define-data-property-CU6ZIYlb.js";import"./es-define-property-BlwJlMsL.js";import"./gopd-9AXXY7mE.js";import"./has-property-descriptors-fNsJIl-I.js";import"./react-dom-CAO6cgV8.js";import"./scheduler-D70Pw1t3.js";import"./react-router-dom-BDzmUGOd.js";import"./@remix-run-CSnr7utK.js";import"./react-redux-CwRJ-DD5.js";import"./use-sync-external-store-D2Dpb26n.js";import"./@reduxjs-C9AHhNnv.js";import"./redux-BxK6wq0X.js";import"./immer-CuGu772C.js";import"./reselect-BDnngDK3.js";import"./redux-thunk-ClJT1hhx.js";import"./react-transition-group-Brw6IWwr.js";import"./@babel-DVGmkmWW.js";import"./dom-helpers-D0mFdbeO.js";import"./moment-CbGOrKEH.js";import"./axios-BtoyVZBe.js";import"./promise.prototype.finally-Kd1d3tEm.js";import"./define-properties-B83jVO4R.js";import"./object-keys-r3t7_5tw.js";import"./es-abstract-Bi3ojizx.js";import"./is-callable-DcnXhopT.js";import"./set-function-name-zd_hqtaf.js";import"./functions-have-names-V93JBYlf.js";import"./echarts-CrZI9CbR.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CQaTwPXd.js";import"./rc-util-QCJIF2Vz.js";import"./@ant-design-BnmYyEVZ.js";import"./@emotion-CW87jbl0.js";import"./stylis-DsJDcYJc.js";import"./classnames-CKeVMnuN.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@ctrl-4GH61kPu.js";import"./rc-resize-observer-5S44p-O-.js";import"./rc-motion-CH1JEF2r.js";import"./rc-tooltip-Cu8iVr43.js";import"./@rc-component-BriCudg9.js";import"./rc-overflow-CNtTx3br.js";import"./rc-menu-daKVGrV9.js";import"./rc-select-Cxbqm2bu.js";import"./rc-virtual-list-ypa5-6V7.js";import"./rc-field-form-aL4nyAMB.js";import"./rc-dialog-CXFQymF9.js";import"./rc-notification-BST5fa4j.js";import"./rc-table-T0JI0DD8.js";import"./rc-tree-Dx3fAiaQ.js";import"./rc-checkbox-pyhp67yT.js";import"./rc-pagination-DYoz4Sc2.js";import"./rc-picker-DQglgLpr.js";import"./rc-dropdown-CcgYhkwP.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CLMQVBH5.js";import"./rc-textarea-Cqv_Qx9X.js";function tt(){const h=L(),m=C(),r=l.useRef({page:1,page_size:11}),[x,u]=l.useState([{label:"Blocks",filter:null,active:!0},{label:"BlackHole Blocks",filter:1,active:!1},{label:"Penalty Blocks",filter:2,active:!1}]),[v,d]=l.useState(!1),[s,j]=l.useState(),[o,N]=l.useState({blocks:[],total:0}),n=async()=>{try{d(!0);const t=await R(r.current);N(t)}finally{d(!1)}};l.useEffect(()=>{n(),k()},[]);const w=t=>{r.current.page=t,n()},k=async()=>{try{f(!0);const t=await D();j(t)}finally{f(!1)}},b=t=>{h("/explorer/blockDetail/".concat(t))},{toAccountDetail:z}=T(),[c,f]=l.useState(!1),y=[{title:"Height",key:"number",render(t){const i=t;return e.jsx("span",{className:"link hover:color-#1677ff",onClick:()=>b(i.number),children:i.number})}},{title:"Proposer",key:"miner",render(t){const i=t;return e.jsx("span",{className:"link hover:color-#1677ff",onClick:()=>z(i.miner),children:"".concat(E(i.miner,5,18))})}},{title:"TXN",key:"totalTransaction"},{title:"Gas Used",key:"Height",render(t){const i=t;return"".concat(H((i.gasUsed||0)/(i.gasLimit||0)*100,5)," %")}},{title:"Gas Limit",key:"gasLimit",render(t){return t.gasLimit}},{title:"Block Size",key:"size",render(t){const i=t;return"".concat(i.size," Bytes")}}],S=t=>{const i=x.map(a=>a);i.forEach(a=>{a.filter===t.filter?a.active=!0:a.active=!1}),u(i);const g=t.filter;g?r.current.filter=g:delete r.current.filter,r.current.page=1,n()};return e.jsxs("div",{className:"page-chain flex flex-col flex-col-reverse lg:flex-row",children:[e.jsxs("div",{className:"chain-header flex-1 mt-14px lg:mt-0 w-100%",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row w-100% lg:h-48px",children:[e.jsx("div",{className:"flex-1 flex gap-8px lg:gap-10px",children:x.map(t=>e.jsx("div",{className:"chain-btn white-space ".concat(t.active?"active":""),onClick:()=>S(t),children:t.label},t.label))}),e.jsx("div",{className:"flex-1 lg:ml-26px pt-14px lg:pt-0 hidden lg:block",children:e.jsx(I,{className:"font-size-14px"})})]}),e.jsx("div",{className:"lg:h-65vh",children:e.jsxs("div",{className:"table-list mt-14px flex-1 h-100%",children:[e.jsxs("div",{className:"font-size-16px text-left py-10px px-10px lg:px-16px tit items-center justify-between flex flex-row lg:flex-row lg:h-6.4vh",children:[e.jsx("div",{className:"font-size-12px font-size-16px hidden lg:block",children:"CHAIN INFORMATION"}),e.jsx("div",{className:"font-size-12px font-size-16px block lg:hidden",children:"CHAIN"}),e.jsx(A,{current:r.current.page,pageSize:r.current.page_size,total:o.total,onChange:w,showQuickJumper:!!m.isMobile,simple:!!m.isMobile})]}),e.jsx("div",{className:"flex h-100% lg:h-90%  overflow-x-scroll scrollbar-x",children:e.jsx(B,{columns:y,dataSources:o==null?void 0:o.blocks,loading:v})})]})})]}),e.jsxs("div",{className:"mt-14px lg:mt-0 w-100% lg:w-250px lg:ml-22px gap-8px lg:gap-0 flex justify-between flex-row lg:flex-col",children:[e.jsxs("div",{className:"flex flex-col gap-8px lg:gap-1.5vh w-full",children:[e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{className:"w-100%",children:[e.jsx("div",{className:"font-size-10px lg:font-size-16px",children:"Block Height"}),e.jsx("div",{className:"font-size-10px lg:font-size-24px lg:mt-16px",children:e.jsx(p,{loading:c,title:!1,active:!0,paragraph:{rows:1,width:"100% "},children:s==null?void 0:s.totalBlock})})]})}),e.jsx("div",{children:e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{className:"w-100%",children:[e.jsx("div",{className:"font-size-10px lg:font-size-16px",children:"Total CSBT"}),e.jsx("div",{className:"font-size-10px lg:font-size-24px lg:mt-16px",children:e.jsx(p,{loading:c,title:!1,active:!0,paragraph:{rows:1,width:"100% "},children:s==null?void 0:s.rewardSNFTCount})})]})})})]}),e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{className:"w-100%",children:[e.jsx("div",{className:"font-size-10px lg:font-size-16px",children:"Total ERB Rewards"}),e.jsx("div",{className:"font-size-10px lg:font-size-24px lg:mt-16px",children:e.jsx(p,{loading:c,active:!0,paragraph:{rows:1,width:"100% "},title:!1,children:M((s==null?void 0:s.totalRewardAmount)||"0")})})]})})]})]})}export{tt as default};
