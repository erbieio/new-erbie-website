System.register(["./react-legacy-DxSpAB0g.js","./rc-util-legacy-DbiAop8j.js","./classnames-legacy-D4BrmxoT.js","./rc-overflow-legacy-BdT42BQj.js","./react-dom-legacy-B0bx0NKw.js","./rc-resize-observer-legacy-udwJkKBu.js","./rc-motion-legacy-DQ-cKjPP.js","./@babel-legacy-Hf2i0Sc8.js","./@rc-component-legacy-BSxxx20a.js","./rc-virtual-list-legacy-Ci1NoZCi.js"],(function(e,n){"use strict";var t,o,r,a,l,u,i,c,s,d,f,p,v,m,h,g,b,w,y,C,E,S,x,I,D,M,N;return{setters:[function(e){t=e.r,o=e.a},function(e){r=e.K,a=e.w,l=e.f,u=e.A,i=e.b,c=e.l,s=e.e,d=e.u,f=e.B,p=e.p,v=e.t,m=e.c,h=e.y},function(e){g=e.c},function(e){b=e.F},null,null,null,function(e){w=e.d,y=e.c,C=e.e,E=e.b,S=e.g,x=e.h,I=e.p,D=e.f},function(e){M=e.T},function(e){N=e.L}],execute:function(){var n=function(e){var n=e.className,o=e.customizeIcon,r=e.customizeIconProps,a=e.children,l=e.onMouseDown,u=e.onClick,i="function"==typeof o?o(r):o;return t.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),null==l||l(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:u,"aria-hidden":!0},void 0!==i?i:t.createElement("span",{className:g(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},a))},R=t.createContext(null);
/**
       * Locker return cached mark.
       * If set to `true`, will return `true` in a short time even if set `false`.
       * If set to `false` and then set to `true`, will change to `true`.
       * And after time duration, it will back to `null` automatically.
       */
function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=t.useRef(null),o=t.useRef(null);// Clean up
return t.useEffect((function(){return function(){window.clearTimeout(o.current)}}),[]),[function(){return n.current},function(t){(t||null===n.current)&&(n.current=t),window.clearTimeout(o.current),o.current=window.setTimeout((function(){n.current=null}),e)}]}var O=function(e,n){var o,r=e.prefixCls,u=e.id,i=e.inputElement,c=e.disabled,s=e.tabIndex,d=e.autoFocus,f=e.autoComplete,p=e.editable,v=e.activeDescendantId,m=e.value,h=e.maxLength,b=e.onKeyDown,w=e.onMouseDown,y=e.onChange,E=e.onPaste,S=e.onCompositionStart,x=e.onCompositionEnd,I=e.open,D=e.attrs,M=i||t.createElement("input",null),N=M,R=N.ref,P=N.props,O=P.onKeyDown,V=P.onChange,T=P.onMouseDown,k=P.onCompositionStart,A=P.onCompositionEnd,F=P.style;return a(!("maxLength"in M.props)),M=t.cloneElement(M,C(C(C({type:"search"},P),{},{// Override over origin props
id:u,ref:l(n,R),disabled:c,tabIndex:s,autoComplete:f||"off",autoFocus:d,className:g("".concat(r,"-selection-search-input"),null===(o=M)||void 0===o||null===(o=o.props)||void 0===o?void 0:o.className),role:"combobox","aria-expanded":I||!1,"aria-haspopup":"listbox","aria-owns":"".concat(u,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(u,"_list"),"aria-activedescendant":I?v:void 0},D),{},{value:p?m:"",maxLength:h,readOnly:!p,unselectable:p?null:"on",style:C(C({},F),{},{opacity:p?null:0}),onKeyDown:function(e){b(e),O&&O(e)},onMouseDown:function(e){w(e),T&&T(e)},onChange:function(e){y(e),V&&V(e)},onCompositionStart:function(e){S(e),k&&k(e)},onCompositionEnd:function(e){x(e),A&&A(e)},onPaste:E}))},V=t.forwardRef(O);function T(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var k="undefined"!=typeof window&&window.document&&window.document.documentElement;function A(e){return["string","number"].includes(w(e))}function F(e){var n=void 0;return e&&(A(e.title)?n=e.title.toString():A(e.label)&&(n=e.label.toString())),n}/* eslint-disable react-hooks/rules-of-hooks */
/**
       * Wrap `React.useLayoutEffect` which will not throw warning message in test env
       */ /* eslint-enable */function K(e){var n;return null!==(n=e.key)&&void 0!==n?n:e.value}var L=function(e){e.preventDefault(),e.stopPropagation()},j=function(e){var o,r,a=e.id,l=e.prefixCls,i=e.values,c=e.open,s=e.searchValue,d=e.autoClearSearchValue,f=e.inputRef,p=e.placeholder,v=e.disabled,m=e.mode,h=e.showSearch,w=e.autoFocus,C=e.autoComplete,S=e.activeDescendantId,x=e.tabIndex,I=e.removeIcon,D=e.maxTagCount,M=e.maxTagTextLength,N=e.maxTagPlaceholder,R=void 0===N?function(e){return"+ ".concat(e.length," ...")}:N,P=e.tagRender,O=e.onToggleOpen,T=e.onRemove,A=e.onInputChange,j=e.onInputPaste,_=e.onInputKeyDown,z=e.onInputMouseDown,W=e.onInputCompositionStart,H=e.onInputCompositionEnd,U=t.useRef(null),B=t.useState(0),Y=y(B,2),G=Y[0],X=Y[1],q=t.useState(!1),J=y(q,2),Q=J[0],$=J[1],Z="".concat(l,"-selection"),ee=c||"multiple"===m&&!1===d||"tags"===m?s:"",ne="tags"===m||"multiple"===m&&!1===d||h&&(c||Q);// We measure width and set to the input immediately
o=function(){X(U.current.scrollWidth)},r=[ee],// Never happen in test env
k?/* istanbul ignore next */t.useLayoutEffect(o,r):t.useEffect(o,r);// ===================== Render ======================
// >>> Render Selector Node. Includes Item & Rest
var te=function(e,o,r,a,l){return t.createElement("span",{title:F(e),className:g("".concat(Z,"-item"),E({},"".concat(Z,"-item-disabled"),r))},t.createElement("span",{className:"".concat(Z,"-item-content")},o),a&&t.createElement(n,{className:"".concat(Z,"-item-remove"),onMouseDown:L,onClick:l,customizeIcon:I},"×"))},oe=function(e,n,o,r,a,l){return t.createElement("span",{onMouseDown:function(e){L(e),O(!c)}},P({label:n,value:e,disabled:o,closable:r,onClose:a,isMaxTag:!!l}))},re=t.createElement("div",{className:"".concat(Z,"-search"),style:{width:G},onFocus:function(){$(!0)},onBlur:function(){$(!1)}},t.createElement(V,{ref:f,open:c,prefixCls:l,id:a,inputElement:null,disabled:v,autoFocus:w,autoComplete:C,editable:ne,activeDescendantId:S,value:ee,onKeyDown:_,onMouseDown:z,onChange:A,onPaste:j,onCompositionStart:W,onCompositionEnd:H,tabIndex:x,attrs:u(e,!0)}),t.createElement("span",{ref:U,className:"".concat(Z,"-search-mirror"),"aria-hidden":!0},ee," ")),ae=t.createElement(b,{prefixCls:"".concat(Z,"-overflow"),data:i,renderItem:function(e){var n=e.disabled,t=e.label,o=e.value,r=!v&&!n,a=t;if("number"==typeof M&&("string"==typeof t||"number"==typeof t)){var l=String(a);l.length>M&&(a="".concat(l.slice(0,M),"..."))}var u=function(n){n&&n.stopPropagation(),T(e)};return"function"==typeof P?oe(o,a,n,r,u):te(e,a,n,r,u)},renderRest:function(e){var n="function"==typeof R?R(e):R;return"function"==typeof P?oe(void 0,n,!1,!1,void 0,!0):te({title:n},n,!1)},suffix:re,itemKey:K,maxCount:D});return t.createElement(t.Fragment,null,ae,!i.length&&!ee&&t.createElement("span",{className:"".concat(Z,"-placeholder")},p))},_=function(e){var n=e.inputElement,o=e.prefixCls,r=e.id,a=e.inputRef,l=e.disabled,i=e.autoFocus,c=e.autoComplete,s=e.activeDescendantId,d=e.mode,f=e.open,p=e.values,v=e.placeholder,m=e.tabIndex,h=e.showSearch,g=e.searchValue,b=e.activeValue,w=e.maxLength,C=e.onInputKeyDown,E=e.onInputMouseDown,S=e.onInputChange,x=e.onInputPaste,I=e.onInputCompositionStart,D=e.onInputCompositionEnd,M=e.title,N=t.useState(!1),R=y(N,2),P=R[0],O=R[1],T="combobox"===d,k=T||h,A=p[0],K=g||"";T&&b&&!P&&(K=b),t.useEffect((function(){T&&O(!1)}),[T,b]);// Not show text when closed expect combobox mode
var L=!("combobox"!==d&&!f&&!h||!K),j=void 0===M?F(A):M,_=t.useMemo((function(){return A?null:t.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:L?{visibility:"hidden"}:void 0},v)}),[A,L,v,o]);// Get title of selection item
return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(o,"-selection-search")},t.createElement(V,{ref:a,prefixCls:o,id:r,open:f,inputElement:n,disabled:l,autoFocus:i,autoComplete:c,editable:k,activeDescendantId:s,value:K,onKeyDown:C,onMouseDown:E,onChange:function(e){O(!0),S(e)},onPaste:x,onCompositionStart:I,onCompositionEnd:D,tabIndex:m,attrs:u(e,!0),maxLength:T?w:void 0})),!T&&A?t.createElement("span",{className:"".concat(o,"-selection-item"),title:j,style:L?{visibility:"hidden"}:void 0},A.label):null,_)},z=function(e,n){var o=t.useRef(null),a=t.useRef(!1),l=e.prefixCls,u=e.open,i=e.mode,c=e.showSearch,s=e.tokenWithEnter,d=e.disabled,f=e.autoClearSearchValue,p=e.onSearch,v=e.onSearchSubmit,m=e.onToggleOpen,h=e.onInputKeyDown,g=e.domRef;t.useImperativeHandle(n,(function(){return{focus:function(e){o.current.focus(e)},blur:function(){o.current.blur()}}}));var b=P(0),w=y(b,2),C=w[0],E=w[1],x=t.useRef(null),I=function(e){!1!==p(e,!0,a.current)&&m(!0)},D={inputRef:o,onInputKeyDown:function(e){var n,t=e.which;t!==r.UP&&t!==r.DOWN||e.preventDefault(),h&&h(e),t!==r.ENTER||"tags"!==i||a.current||u||null==v||v(e.target.value),n=t,[// System function button
r.ESC,r.SHIFT,r.BACKSPACE,r.TAB,r.WIN_KEY,r.ALT,r.META,r.WIN_KEY_RIGHT,r.CTRL,r.SEMICOLON,r.EQUALS,r.CAPS_LOCK,r.CONTEXT_MENU,// F1-F12
r.F1,r.F2,r.F3,r.F4,r.F5,r.F6,r.F7,r.F8,r.F9,r.F10,r.F11,r.F12].includes(n)||m(!0)},onInputMouseDown:function(){E(!0)},onInputChange:function(e){var n=e.target.value;if(s&&x.current&&/[\r\n]/.test(x.current)){var t=x.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");n=n.replace(t,x.current)}x.current=null,I(n)},onInputPaste:function(e){var n=e.clipboardData,t=null==n?void 0:n.getData("text");x.current=t||""},onInputCompositionStart:function(){a.current=!0},onInputCompositionEnd:function(e){a.current=!1,"combobox"!==i&&I(e.target.value)}},M="multiple"===i||"tags"===i?t.createElement(j,S({},e,D)):t.createElement(_,S({},e,D));return t.createElement("div",{ref:g,className:"".concat(l,"-selector"),onClick:function(e){e.target!==o.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){o.current.focus()})):o.current.focus())},onMouseDown:function(e){var n=C();e.target===o.current||n||"combobox"===i&&d||e.preventDefault(),("combobox"===i||c&&n)&&u||(u&&!1!==f&&p("",!0,!1),m())}},M)},W=t.forwardRef(z),H=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],U=function(e,n){var o=e.prefixCls;e.disabled;var r=e.visible,a=e.children,l=e.popupElement,u=e.animation,i=e.transitionName,c=e.dropdownStyle,s=e.dropdownClassName,d=e.direction,f=void 0===d?"ltr":d,p=e.placement,v=e.builtinPlacements,m=e.dropdownMatchSelectWidth,h=e.dropdownRender,b=e.dropdownAlign,w=e.getPopupContainer,y=e.empty,I=e.getTriggerDOMNode,D=e.onPopupVisibleChange,N=e.onPopupMouseEnter,R=x(e,H),P="".concat(o,"-dropdown"),O=l;h&&(O=h(l));var V=t.useMemo((function(){return v||function(e){var n=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}}(m)}),[v,m]),T=u?"".concat(P,"-").concat(u):i,k="number"==typeof m,A=t.useMemo((function(){return k?null:!1===m?"minWidth":"width"}),[m,k]),F=c;k&&(F=C(C({},F),{},{width:m}));var K=t.useRef(null);return t.useImperativeHandle(n,(function(){return{getPopupElement:function(){var e;return null===(e=K.current)||void 0===e?void 0:e.popupElement}}})),t.createElement(M,S({},R,{showAction:D?["click"]:[],hideAction:D?["click"]:[],popupPlacement:p||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:V,prefixCls:P,popupTransitionName:T,popup:t.createElement("div",{onMouseEnter:N},O),ref:K,stretch:A,popupAlign:b,popupVisible:r,getPopupContainer:w,popupClassName:g(s,E({},"".concat(P,"-empty"),y)),popupStyle:F,getTriggerDOMNode:I,onPopupVisibleChange:D}),a)},B=t.forwardRef(U);function Y(e,n){var t,o=e.key;return"value"in e&&(t=e.value),null!=o?o:void 0!==t?t:"rc-index-key-".concat(n)}function G(e){return void 0!==e&&!Number.isNaN(e)}function X(e,n){var t=e||{},o=t.label||(n?"children":"label");return{label:o,value:t.value||"value",options:t.options||"options",groupLabel:t.groupLabel||o}}
/**
       * Flat options into flatten list.
       * We use `optionOnly` here is aim to avoid user use nested option group.
       * Here is simply set `key` to the index if not provided.
       */
/**
       * Inject `props` into `option` for legacy usage
       */
function q(e){var n=C({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return i(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),n}}),n}var J=t.createContext(null);// Use any here since we do not get the type during compilation
function Q(e){var n=e.visible,o=e.values;return n?t.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(o.slice(0,50).map((function(e){var n=e.label,t=e.value;return["number","string"].includes(w(n))?n:t})).join(", ")),o.length>50?", ...":null):null;// Only cut part of values since it's a screen reader
}var $=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Z=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],ee=function(e){return"tags"===e||"multiple"===e},ne=t.forwardRef((function(e,a){var l,u=e.id,i=e.prefixCls,p=e.className,v=e.showSearch,m=e.tagRender,h=e.direction,b=e.omitDomProps,M=e.displayValues,N=e.onDisplayValuesChange,O=e.emptyOptions,V=e.notFoundContent,T=void 0===V?"Not Found":V,k=e.onClear,A=e.mode,F=e.disabled,K=e.loading,L=e.getInputElement,j=e.getRawInputElement,_=e.open,z=e.defaultOpen,H=e.onDropdownVisibleChange,U=e.activeValue,Y=e.onActiveValueChange,X=e.activeDescendantId,q=e.searchValue,ne=e.autoClearSearchValue,te=e.onSearch,oe=e.onSearchSplit,re=e.tokenSeparators,ae=e.allowClear,le=e.suffixIcon,ue=e.clearIcon,ie=e.OptionList,ce=e.animation,se=e.transitionName,de=e.dropdownStyle,fe=e.dropdownClassName,pe=e.dropdownMatchSelectWidth,ve=e.dropdownRender,me=e.dropdownAlign,he=e.placement,ge=e.builtinPlacements,be=e.getPopupContainer,we=e.showAction,ye=void 0===we?[]:we,Ce=e.onFocus,Ee=e.onBlur,Se=e.onKeyUp,xe=e.onKeyDown,Ie=e.onMouseDown,De=x(e,$),Me=ee(A),Ne=(void 0!==v?v:Me)||"combobox"===A,Re=C({},De);Z.forEach((function(e){delete Re[e]})),null==b||b.forEach((function(e){delete Re[e]}));var Pe=t.useState(!1),Oe=y(Pe,2),Ve=Oe[0],Te=Oe[1];t.useEffect((function(){Te(c())}),[]);var ke=t.useRef(null),Ae=t.useRef(null),Fe=t.useRef(null),Ke=t.useRef(null),Le=t.useRef(null),je=t.useRef(!1),_e=
/**
       * Similar with `useLock`, but this hook will always execute last value.
       * When set to `true`, it will keep `true` for a short time even if `false` is set.
       */
function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=t.useState(!1),o=y(n,2),r=o[0],a=o[1],l=t.useRef(null),u=function(){window.clearTimeout(l.current)};return t.useEffect((function(){return u}),[]),[r,function(n,t){u(),l.current=window.setTimeout((function(){a(n),t&&t()}),e)},u]}(),ze=y(_e,3),We=ze[0],He=ze[1],Ue=ze[2];t.useImperativeHandle(a,(function(){var e,n;return{focus:null===(e=Ke.current)||void 0===e?void 0:e.focus,blur:null===(n=Ke.current)||void 0===n?void 0:n.blur,scrollTo:function(e){var n;return null===(n=Le.current)||void 0===n?void 0:n.scrollTo(e)}}}));var Be=t.useMemo((function(){var e;if("combobox"!==A)return q;var n=null===(e=M[0])||void 0===e?void 0:e.value;return"string"==typeof n||"number"==typeof n?String(n):""}),[q,A,M]),Ye="combobox"===A&&"function"==typeof L&&L()||null,Ge="function"==typeof j&&j(),Xe=s(Ae,null==Ge||null===(l=Ge.props)||void 0===l?void 0:l.ref),qe=t.useState(!1),Je=y(qe,2),Qe=Je[0],$e=Je[1];d((function(){$e(!0)}),[]);var Ze=f(!1,{defaultValue:z,value:_}),en=y(Ze,2),nn=en[0],tn=en[1],on=!!Qe&&nn,rn=!T&&O;(F||rn&&on&&"combobox"===A)&&(on=!1);var an=!rn&&on,ln=t.useCallback((function(e){var n=void 0!==e?e:!on;F||(tn(n),on!==n&&(null==H||H(n)))}),[F,on,tn,H]),un=t.useMemo((function(){return(re||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[re]),cn=t.useContext(J)||{},sn=cn.maxCount,dn=cn.rawValues,fn=function(e,n,t){if(!(Me&&G(sn)&&(null==dn?void 0:dn.size)>=sn)){var o=!0,r=e;null==Y||Y(null);var a=function(e,n,t){if(!n||!n.length)return null;var o=!1,r=function e(n,t){var r=I(t),a=r[0],l=r.slice(1);if(!a)return[n];var u=n.split(a);return o=o||u.length>1,u.reduce((function(n,t){return[].concat(D(n),D(e(t,l)))}),[]).filter(Boolean)}(e,n);return o?void 0!==t?r.slice(0,t):r:null}(e,re,G(sn)?sn-dn.size:void 0),l=t?null:a;return"combobox"!==A&&l&&(r="",null==oe||oe(l),ln(!1),o=!1),te&&Be!==r&&te(r,{source:n?"typing":"effect"}),o}};t.useEffect((function(){on||Me||"combobox"===A||fn("",!1,!1)}),[on]),t.useEffect((function(){nn&&F&&tn(!1),F&&!je.current&&He(!1)}),[F]);var pn=P(),vn=y(pn,2),mn=vn[0],hn=vn[1],gn=t.useRef(!1),bn=[];t.useEffect((function(){return function(){bn.forEach((function(e){return clearTimeout(e)})),bn.splice(0,bn.length)}}),[]);var wn,yn=t.useState({}),Cn=y(yn,2)[1];Ge&&(wn=function(e){ln(e)}),function(e,n,o,r){var a=t.useRef(null);a.current={open:n,triggerOpen:o,customizedTrigger:r},t.useEffect((function(){function n(n){var t;// If trigger is customized, Trigger will take control of popupVisible
if(null===(t=a.current)||void 0===t||!t.customizedTrigger){var o=n.target;o.shadowRoot&&n.composed&&(o=n.composedPath()[0]||o),a.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(o)&&e!==o}))&&// Should trigger close
a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",n),function(){return window.removeEventListener("mousedown",n)}}),[])}/** keyCode Judgment function */((function(){var e;return[ke.current,null===(e=Fe.current)||void 0===e?void 0:e.getPopupElement()]}),an,ln,!!Ge);var En,Sn=t.useMemo((function(){return C(C({},e),{},{notFoundContent:T,open:on,triggerOpen:an,id:u,showSearch:Ne,multiple:Me,toggleOpen:ln})}),[e,T,an,on,u,Ne,Me,ln]),xn=!!le||K;xn&&(En=t.createElement(n,{className:g("".concat(i,"-arrow"),E({},"".concat(i,"-arrow-loading"),K)),customizeIcon:le,customizeIconProps:{loading:K,searchValue:Be,open:on,focused:We,showSearch:Ne}}));var In,Dn=function(e,t,r,a,l){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,s=o.useMemo((function(){return"object"===w(a)?a.clearIcon:l||void 0}),[a,l]);return{allowClear:o.useMemo((function(){return!(u||!a||!r.length&&!i||"combobox"===c&&""===i)}),[a,u,r.length,i,c]),clearIcon:o.createElement(n,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:s},"×")}}(i,(function(){var e;null==k||k(),null===(e=Ke.current)||void 0===e||e.focus(),N([],{type:"clear",values:M}),fn("",!1,!1)}),M,ae,ue,F,Be,A),Mn=Dn.allowClear,Nn=Dn.clearIcon,Rn=t.createElement(ie,{ref:Le}),Pn=g(i,p,E(E(E(E(E(E(E(E(E(E({},"".concat(i,"-focused"),We),"".concat(i,"-multiple"),Me),"".concat(i,"-single"),!Me),"".concat(i,"-allow-clear"),ae),"".concat(i,"-show-arrow"),xn),"".concat(i,"-disabled"),F),"".concat(i,"-loading"),K),"".concat(i,"-open"),on),"".concat(i,"-customize-input"),Ye),"".concat(i,"-show-search"),Ne)),On=t.createElement(B,{ref:Fe,disabled:F,prefixCls:i,visible:an,popupElement:Rn,animation:ce,transitionName:se,dropdownStyle:de,dropdownClassName:fe,direction:h,dropdownMatchSelectWidth:pe,dropdownRender:ve,dropdownAlign:me,placement:he,builtinPlacements:ge,getPopupContainer:be,empty:O,getTriggerDOMNode:function(){return Ae.current},onPopupVisibleChange:wn,onPopupMouseEnter:function(){Cn({})}},Ge?t.cloneElement(Ge,{ref:Xe}):t.createElement(W,S({},e,{domRef:Ae,prefixCls:i,inputElement:Ye,ref:Ke,id:u,showSearch:Ne,autoClearSearchValue:ne,mode:A,activeDescendantId:X,tagRender:m,values:M,open:on,onToggleOpen:ln,activeValue:U,searchValue:Be,onSearch:fn,onSearchSubmit:function(e){e&&e.trim()&&te(e,{source:"submit"})},onRemove:function(e){var n=M.filter((function(n){return n!==e}));N(n,{type:"remove",values:[e]})},tokenWithEnter:un})));return In=Ge?On:t.createElement("div",S({className:Pn},Re,{ref:ke,onMouseDown:function(e){var n,t=e.target,o=null===(n=Fe.current)||void 0===n?void 0:n.getPopupElement();if(o&&o.contains(t)){var r=setTimeout((function(){var e,n=bn.indexOf(r);-1!==n&&bn.splice(n,1),Ue(),Ve||o.contains(document.activeElement)||null===(e=Ke.current)||void 0===e||e.focus()}));bn.push(r)}for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];null==Ie||Ie.apply(void 0,[e].concat(l))},onKeyDown:function(e){var n,t=mn(),o=e.which;if(o===r.ENTER&&("combobox"!==A&&e.preventDefault(),on||ln(!0)),hn(!!Be),o===r.BACKSPACE&&!t&&Me&&!Be&&M.length){for(var a=D(M),l=null,u=a.length-1;u>=0;u-=1){var i=a[u];if(!i.disabled){a.splice(u,1),l=i;break}}l&&N(a,{type:"remove",values:[l]})}for(var c=arguments.length,s=new Array(c>1?c-1:0),d=1;d<c;d++)s[d-1]=arguments[d];on&&(null===(n=Le.current)||void 0===n||n.onKeyDown.apply(n,[e].concat(s))),null==xe||xe.apply(void 0,[e].concat(s))},onKeyUp:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var r;on&&(null===(r=Le.current)||void 0===r||r.onKeyUp.apply(r,[e].concat(t))),null==Se||Se.apply(void 0,[e].concat(t))},onFocus:function(){He(!0),F||(Ce&&!gn.current&&Ce.apply(void 0,arguments),ye.includes("focus")&&ln(!0)),gn.current=!0},onBlur:function(){je.current=!0,He(!1,(function(){gn.current=!1,je.current=!1,ln(!1)})),F||(Be&&("tags"===A?te(Be,{source:"submit"}):"multiple"===A&&te("",{source:"blur"})),Ee&&Ee.apply(void 0,arguments))}}),t.createElement(Q,{visible:We&&!on,values:M}),On,En,Mn&&Nn),t.createElement(R.Provider,{value:Sn},In)})),te=e("a",(function(){return null}));te.isSelectOptGroup=!0;/* istanbul ignore file */ /** This is a placeholder, not real render in dom */var oe=e("O",(function(){return null}));oe.isSelectOption=!0;var re=["disabled","title","children","style","className"];function ae(e){return"string"==typeof e||"number"==typeof e}var le=function(e,o){var a=t.useContext(R),l=a.prefixCls,i=a.id,c=a.open,s=a.multiple,d=a.mode,f=a.searchValue,m=a.toggleOpen,h=a.notFoundContent,b=a.onPopupScroll,w=t.useContext(J),C=w.maxCount,I=w.flattenOptions,M=w.onActiveValue,P=w.defaultActiveFirstOption,O=w.onSelect,V=w.menuItemSelectedIcon,T=w.rawValues,k=w.fieldNames,A=w.virtual,F=w.direction,K=w.listHeight,L=w.listItemHeight,j=w.optionRender,_="".concat(l,"-item"),z=p((function(){return I}),[c,I],(function(e,n){return n[0]&&e[1]!==n[1]})),W=t.useRef(null),H=t.useMemo((function(){return s&&G(C)&&(null==T?void 0:T.size)>=C}),[s,C,null==T?void 0:T.size]),U=function(e){e.preventDefault()},B=function(e){var n;null===(n=W.current)||void 0===n||n.scrollTo("number"==typeof e?{index:e}:e)},Y=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=z.length,o=0;o<t;o+=1){var r=(e+o*n+t)%t,a=z[r]||{},l=a.group,u=a.data;if(!(l||null!=u&&u.disabled||H))return r}return-1},X=t.useState((function(){return Y(0)})),q=y(X,2),Q=q[0],$=q[1],Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$(e);var t={source:n?"keyboard":"mouse"},o=z[e];o?M(o.value,e,t):M(null,-1,t)};t.useEffect((function(){Z(!1!==P?Y(0):-1)}),[z.length,f]);var ee=t.useCallback((function(e){return T.has(e)&&"combobox"!==d}),[d,D(T).toString(),T.size]);t.useEffect((function(){var e,n=setTimeout((function(){if(!s&&c&&1===T.size){var e=Array.from(T)[0],n=z.findIndex((function(n){return n.data.value===e}));-1!==n&&(Z(n),B(n))}}));return c&&(null===(e=W.current)||void 0===e||e.scrollTo(void 0)),function(){return clearTimeout(n)}}),[c,f]);var ne=function(e){void 0!==e&&O(e,{selected:!T.has(e)}),s||m(!1)};if(t.useImperativeHandle(o,(function(){return{onKeyDown:function(e){var n=e.which,t=e.ctrlKey;switch(n){case r.N:case r.P:case r.UP:case r.DOWN:var o=0;if(n===r.UP?o=-1:n===r.DOWN?o=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&t&&(n===r.N?o=1:n===r.P&&(o=-1)),0!==o){var a=Y(Q+o,o);B(a),Z(a,!0)}break;case r.ENTER:var l,u=z[Q];!u||null!=u&&null!==(l=u.data)&&void 0!==l&&l.disabled||H?ne(void 0):ne(u.value),c&&e.preventDefault();break;case r.ESC:m(!1),c&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){B(e)}}})),0===z.length)return t.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(_,"-empty"),onMouseDown:U},h);var te=Object.keys(k).map((function(e){return k[e]})),oe=function(e){return e.label};function le(e,n){return{role:e.group?"presentation":"option",id:"".concat(i,"_list_").concat(n)}}var ue=function(e){var n=z[e];if(!n)return null;var o=n.data||{},r=o.value,a=n.group,l=u(o,!0),i=oe(n);return n?t.createElement("div",S({"aria-label":"string"!=typeof i||a?null:i},l,{key:e},le(n,e),{"aria-selected":ee(r)}),r):null},ie={role:"listbox",id:"".concat(i,"_list")};return t.createElement(t.Fragment,null,A&&t.createElement("div",S({},ie,{style:{height:0,width:0,overflow:"hidden"}}),ue(Q-1),ue(Q),ue(Q+1)),t.createElement(N,{itemKey:"key",ref:W,data:z,height:K,itemHeight:L,fullHeight:!1,onMouseDown:U,onScroll:b,virtual:A,direction:F,innerProps:A?null:ie},(function(e,o){var r=e.group,a=e.groupOption,l=e.data,i=e.label,c=e.value,s=l.key;if(r){var d,f=null!==(d=l.title)&&void 0!==d?d:ae(i)?i.toString():void 0;return t.createElement("div",{className:g(_,"".concat(_,"-group"),l.className),title:f},void 0!==i?i:s)}var p=l.disabled,m=l.title;l.children;var h=l.style,b=l.className,w=x(l,re),y=v(w,te),C=ee(c),I=p||!C&&H,D="".concat(_,"-option"),M=g(_,D,b,E(E(E(E({},"".concat(D,"-grouped"),a),"".concat(D,"-active"),Q===o&&!I),"".concat(D,"-disabled"),I),"".concat(D,"-selected"),C)),N=oe(e),R=!V||"function"==typeof V||C,P="number"==typeof N?N:N||c,O=ae(P)?P.toString():void 0;return void 0!==m&&(O=m),t.createElement("div",S({},u(y),A?{}:le(e,o),{"aria-selected":C,className:M,title:O,onMouseMove:function(){Q===o||I||Z(o)},onClick:function(){I||ne(c)},style:h}),t.createElement("div",{className:"".concat(D,"-content")},"function"==typeof j?j(e,{index:o}):P),t.isValidElement(V)||C,R&&t.createElement(n,{className:"".concat(_,"-option-state"),customizeIcon:V,customizeIconProps:{value:c,disabled:I,isSelected:C}},C?"✓":null))})))},ue=t.forwardRef(le);function ie(e,n){return T(e).join("").toUpperCase().includes(n)}var ce=0,se=m();function de(e){var n=t.useState(),o=y(n,2),r=o[0],a=o[1];return t.useEffect((function(){var e;a("rc_select_".concat((se?(e=ce,ce+=1):e="TEST_OR_SSR",e)))}),[]),e||r}var fe=["children","value"],pe=["children"];function ve(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h(e).map((function(e,o){if(!t.isValidElement(e)||!e.type)return null;var r=e,a=r.type.isSelectOptGroup,l=r.key,u=r.props,i=u.children,c=x(u,pe);return n||!a?function(e){var n=e,t=n.key,o=n.props,r=o.children,a=o.value,l=x(o,fe);return C({key:t,value:void 0!==a?a:t,children:r},l)}(e):C(C({key:"__RC_SELECT_GRP__".concat(null===l?o:l,"__"),label:l},c),{},{options:ve(i)})})).filter((function(e){return e}))}
/**
       * Parse `children` to `options` if `options` is not provided.
       * Then flatten the `options`.
       */
/**
       * Same as `React.useCallback` but always return a memoized function
       * but redirect to real function.
       */
function me(e){var n=t.useRef();n.current=e;var o=t.useCallback((function(){return n.current.apply(n,arguments)}),[]);return o}var he=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],ge=["inputValue"],be=t.forwardRef((function(e,n){var o=e.id,r=e.mode,a=e.prefixCls,l=void 0===a?"rc-select":a,u=e.backfill,i=e.fieldNames,c=e.inputValue,s=e.searchValue,d=e.onSearch,p=e.autoClearSearchValue,v=void 0===p||p,m=e.onSelect,h=e.onDeselect,g=e.dropdownMatchSelectWidth,b=void 0===g||g,I=e.filterOption,M=e.filterSort,N=e.optionFilterProp,R=e.optionLabelProp,P=e.options,O=e.optionRender,V=e.children,k=e.defaultActiveFirstOption,A=e.menuItemSelectedIcon,F=e.virtual,K=e.direction,L=e.listHeight,j=void 0===L?200:L,_=e.listItemHeight,z=void 0===_?20:_,W=e.labelRender,H=e.value,U=e.defaultValue,B=e.labelInValue,G=e.onChange,Q=e.maxCount,$=x(e,he),Z=de(o),te=ee(r),oe=!(P||!V),re=t.useMemo((function(){return(void 0!==I||"combobox"!==r)&&I}),[I,r]),ae=t.useMemo((function(){return X(i,oe)}),/* eslint-disable react-hooks/exhaustive-deps */[// We stringify fieldNames to avoid unnecessary re-renders.
JSON.stringify(i),oe]/* eslint-enable react-hooks/exhaustive-deps */),le=f("",{value:void 0!==s?s:c,postState:function(e){return e||""}}),ce=y(le,2),se=ce[0],fe=ce[1],pe=function(e,n,o,r,a){return t.useMemo((function(){var t=e;!e&&(t=ve(n));var l=new Map,u=new Map,i=function(e,n,t){t&&"string"==typeof t&&e.set(n[t],n)};return function e(n){// for loop to speed up collection speed
for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<n.length;c+=1){var s=n[c];!s[o.options]||t?(l.set(s[o.value],s),i(u,s,o.label),// https://github.com/ant-design/ant-design/issues/35304
i(u,s,r),i(u,s,a)):e(s[o.options],!0)}}(t),{options:t,valueOptions:l,labelOptions:u}}),[e,n,o,r,a])}(P,V,ae,N,R),be=pe.valueOptions,we=pe.labelOptions,ye=pe.options,Ce=t.useCallback((function(e){return T(e).map((function(e){var n,t,o,r,a,l;!function(e){return!e||"object"!==w(e)}(e)?(o=e.key,t=e.label,n=null!==(l=e.value)&&void 0!==l?l:o):n=e;var u,i=be.get(n);return i&&(void 0===t&&(t=null==i?void 0:i[R||ae.label]),void 0===o&&(o=null!==(u=null==i?void 0:i.key)&&void 0!==u?u:n),r=null==i?void 0:i.disabled,a=null==i?void 0:i.title),{label:t,value:n,key:o,disabled:r,title:a}}))}),[ae,R,be]),Ee=f(U,{value:H}),Se=y(Ee,2),xe=Se[0],Ie=Se[1],De=t.useMemo((function(){var e,n=Ce(te&&null===xe?[]:xe);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=n[0])||void 0===e?void 0:e.value)?[]:n}),[xe,Ce,r,te]),Me=function(e,n){var o=t.useRef({values:new Map,options:new Map});return[t.useMemo((function(){var t=o.current,r=t.values,a=t.options,l=e.map((function(e){var n;return void 0===e.label?C(C({},e),{},{label:null===(n=r.get(e.value))||void 0===n?void 0:n.label}):e})),u=new Map,i=new Map;// Fill label by cache
return l.forEach((function(e){u.set(e.value,e),i.set(e.value,n.get(e.value)||a.get(e.value))})),o.current.values=u,o.current.options=i,l}),[e,n]),t.useCallback((function(e){return n.get(e)||o.current.options.get(e)}),[n])]}(De,be),Ne=y(Me,2),Re=Ne[0],Pe=Ne[1],Oe=t.useMemo((function(){if(!r&&1===Re.length){var e=Re[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return Re.map((function(e){var n;return C(C({},e),{},{label:null!==(n="function"==typeof W?W(e):e.label)&&void 0!==n?n:e.value})}))}),[r,Re,W]),Ve=t.useMemo((function(){return new Set(Re.map((function(e){return e.value})))}),[Re]);t.useEffect((function(){if("combobox"===r){var e,n=null===(e=Re[0])||void 0===e?void 0:e.value;fe(function(e){return null!=e}(n)?String(n):"")}}),[Re]);var Te=me((function(e,n){var t=null!=n?n:e;return E(E({},ae.value,e),ae.label,t)})),ke=function(e,n,o,r,a){return t.useMemo((function(){if(!o||!1===r)return e;var t=n.options,l=n.label,u=n.value,i=[],c="function"==typeof r,s=o.toUpperCase(),d=c?r:function(e,n){// Use provided `optionFilterProp`
return a?ie(n[a],s):// Auto select `label` or `value` by option type
n[t]?ie(n["children"!==l?l:"label"],s):ie(n[u],s)},f=c?function(e){return q(e)}:function(e){return e};return e.forEach((function(e){// Group should check child options
if(e[t])if(d(o,f(e)))i.push(e);else{// Check option
var n=e[t].filter((function(e){return d(o,f(e))}));n.length&&i.push(C(C({},e),{},E({},t,n)))}else d(o,f(e))&&i.push(e)})),i}),[e,r,a,o,n])}(t.useMemo((function(){if("tags"!==r)return ye;var e=D(ye);return D(Re).sort((function(e,n){return e.value<n.value?-1:1})).forEach((function(n){var t=n.value;(function(e){return be.has(e)})(t)||e.push(Te(t,n.label))})),e}),[Te,ye,be,Re,r]),ae,se,re,N),Ae=t.useMemo((function(){return"tags"!==r||!se||ke.some((function(e){return e[N||"value"]===se}))||ke.some((function(e){return e[ae.value]===se}))?ke:[Te(se)].concat(D(ke))}),[Te,N,r,ke,se,ae]),Fe=t.useMemo((function(){return M?D(Ae).sort((function(e,n){return M(e,n)})):Ae}),[Ae,M]),Ke=t.useMemo((function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.fieldNames,o=n.childrenAsData,r=[],a=X(t,!1),l=a.label,u=a.value,i=a.options,c=a.groupLabel;return function e(n,t){Array.isArray(n)&&n.forEach((function(n){if(t||!(i in n)){var a=n[u];// Option
r.push({key:Y(n,r.length),groupOption:t,data:n,label:n[l],value:a})}else{var s=n[c];void 0===s&&o&&(s=n.label),// Option Group
r.push({key:Y(n,r.length),group:!0,data:n,label:s}),e(n[i],!0)}}))}(e,!1),r}(Fe,{fieldNames:ae,childrenAsData:oe})}),[Fe,ae,oe]),Le=function(e){var n=Ce(e);if(Ie(n),G&&(// Trigger event only when value changed
n.length!==Re.length||n.some((function(e,n){var t;return(null===(t=Re[n])||void 0===t?void 0:t.value)!==(null==e?void 0:e.value)})))){var t=B?n:n.map((function(e){return e.value})),o=n.map((function(e){return q(Pe(e.value))}));G(// Value
te?t:t[0],// Option
te?o:o[0])}},je=t.useState(null),_e=y(je,2),ze=_e[0],We=_e[1],He=t.useState(0),Ue=y(He,2),Be=Ue[0],Ye=Ue[1],Ge=void 0!==k?k:"combobox"!==r,Xe=t.useCallback((function(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===t?"keyboard":t;Ye(n),u&&"combobox"===r&&null!==e&&"keyboard"===o&&We(String(e))}),[u,r]),qe=function(e,n,t){var o=function(){var n,t=Pe(e);return[B?{label:null==t?void 0:t[ae.label],value:e,key:null!==(n=null==t?void 0:t.key)&&void 0!==n?n:e}:e,q(t)]};if(n&&m){var r=o(),a=y(r,2),l=a[0],u=a[1];m(l,u)}else if(!n&&h&&"clear"!==t){var i=o(),c=y(i,2),s=c[0],d=c[1];h(s,d)}},Je=me((function(e,n){var t,o=!te||n.selected;t=o?te?[].concat(D(Re),[e]):[e]:Re.filter((function(n){return n.value!==e})),Le(t),qe(e,o),"combobox"===r?We(""):ee&&!v||(fe(""),We(""))})),Qe=t.useMemo((function(){var e=!1!==F&&!1!==b;return C(C({},pe),{},{flattenOptions:Ke,onActiveValue:Xe,defaultActiveFirstOption:Ge,onSelect:Je,menuItemSelectedIcon:A,rawValues:Ve,fieldNames:ae,virtual:e,direction:K,listHeight:j,listItemHeight:z,childrenAsData:oe,maxCount:Q,optionRender:O})}),[Q,pe,Ke,Xe,Ge,Je,A,Ve,ae,F,b,K,j,z,oe,O]);return t.createElement(J.Provider,{value:Qe},t.createElement(ne,S({},$,{// >>> MISC
id:Z,prefixCls:l,ref:n,omitDomProps:ge,mode:r,displayValues:Oe,onDisplayValuesChange:function(e,n){Le(e);var t=n.type,o=n.values;"remove"!==t&&"clear"!==t||o.forEach((function(e){qe(e.value,!1,t)}))},direction:K,searchValue:se,onSearch:function(e,n){if(fe(e),We(null),"submit"!==n.source)"blur"!==n.source&&("combobox"===r&&Le(e),null==d||d(e));else{var t=(e||"").trim();if(t){var o=Array.from(new Set([].concat(D(Ve),[t])));Le(o),qe(t,!0),fe("")}}},autoClearSearchValue:v,onSearchSplit:function(e){var n=e;"tags"!==r&&(n=e.map((function(e){var n=we.get(e);return null==n?void 0:n.value})).filter((function(e){return void 0!==e})));var t=Array.from(new Set([].concat(D(Ve),D(n))));Le(t),t.forEach((function(e){qe(e,!0)}))},dropdownMatchSelectWidth:b,OptionList:ue,emptyOptions:!Ke.length,activeValue:ze,activeDescendantId:"".concat(Z,"_list_").concat(Be)})))})),we=e("T",be);we.Option=oe,we.OptGroup=te}}}));
