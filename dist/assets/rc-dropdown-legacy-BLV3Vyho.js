System.register(["./@babel-legacy-Hf2i0Sc8.js","./@rc-component-legacy-CvhODniC.js","./classnames-legacy-LtYTht8m.js","./rc-util-legacy-DZOWYOyq.js","./react-legacy-zAw1YzNG.js"],(function(e,t){"use strict";var n,o,r,i,a,l,c,s,u,f,p,v;return{setters:[function(e){n=e.h,o=e.c,r=e.g,i=e.b},function(e){a=e.T},function(e){l=e.c},function(e){c=e.o,s=e.K,u=e.f,f=e.s},function(e){p=e.r,v=e.a}],execute:function(){var t=s.ESC,g=s.TAB,d=p.forwardRef((function(e,t){var n=e.overlay,o=e.arrow,r=e.prefixCls,i=p.useMemo((function(){return"function"==typeof n?n():n}),[n]),a=u(t,null==i?void 0:i.ref);return v.createElement(v.Fragment,null,o&&v.createElement("div",{className:"".concat(r,"-arrow")}),v.cloneElement(i,{ref:f(i)?a:void 0}))})),m={adjustX:1,adjustY:1},y=[0,0],b={topLeft:{points:["bl","tl"],overflow:m,offset:[0,-4],targetOffset:y},top:{points:["bc","tc"],overflow:m,offset:[0,-4],targetOffset:y},topRight:{points:["br","tr"],overflow:m,offset:[0,-4],targetOffset:y},bottomLeft:{points:["tl","bl"],overflow:m,offset:[0,4],targetOffset:y},bottom:{points:["tc","bc"],overflow:m,offset:[0,4],targetOffset:y},bottomRight:{points:["tr","br"],overflow:m,offset:[0,4],targetOffset:y}},w=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function h(e,s){var m,y=e.arrow,h=void 0!==y&&y,C=e.prefixCls,R=void 0===C?"rc-dropdown":C,E=e.transitionName,N=e.animation,O=e.align,A=e.placement,x=void 0===A?"bottomLeft":A,P=e.placements,j=void 0===P?b:P,k=e.getPopupContainer,S=e.showAction,V=e.hideAction,F=e.overlayClassName,L=e.overlayStyle,T=e.visible,M=e.trigger,W=void 0===M?["hover"]:M,D=e.autoFocus,B=e.overlay,H=e.children,I=e.onVisibleChange,K=n(e,w),X=v.useState(),Y=o(X,2),q=Y[0],z=Y[1],G="visible"in e?T:q,J=v.useRef(null),Q=v.useRef(null),U=v.useRef(null);v.useImperativeHandle(s,(function(){return J.current}));var Z=function(e){z(e),null==I||I(e)};!function(e){var n=e.visible,o=e.triggerRef,r=e.onVisibleChange,i=e.autoFocus,a=e.overlayRef,l=p.useRef(!1),s=function(){var e,t;n&&(null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),null==r||r(!1))},u=function(){var e;return!(null===(e=a.current)||void 0===e||!e.focus||(a.current.focus(),l.current=!0,0))},f=function(e){switch(e.keyCode){case t:s();break;case g:var n=!1;l.current||(n=u()),n?e.preventDefault():s()}};p.useEffect((function(){return n?(window.addEventListener("keydown",f),i&&// FIXME: hack with raf
c(u,3),function(){window.removeEventListener("keydown",f),l.current=!1}):function(){l.current=!1}}),[n])}({visible:G,triggerRef:U,onVisibleChange:Z,autoFocus:D,overlayRef:Q});var $,_,ee,te=function(){return v.createElement(d,{ref:Q,overlay:B,prefixCls:R,arrow:h})},ne=v.cloneElement(H,{className:l(null===(m=H.props)||void 0===m?void 0:m.className,G&&($=e.openClassName,void 0!==$?$:"".concat(R,"-open"))),ref:f(H)?u(U,H.ref):void 0}),oe=V;return oe||-1===W.indexOf("contextMenu")||(oe=["click"]),v.createElement(a,r({builtinPlacements:j},K,{prefixCls:R,ref:J,popupClassName:l(F,i({},"".concat(R,"-show-arrow"),h)),popupStyle:L,action:W,showAction:S,hideAction:oe,popupPlacement:x,popupAlign:O,popupTransitionName:E,popupAnimation:N,popupVisible:G,stretch:(_=e.minOverlayWidthMatchTrigger,ee=e.alignPoint,("minOverlayWidthMatchTrigger"in e?_:!ee)?"minWidth":""),popup:"function"==typeof B?te:te(),onPopupVisibleChange:Z,onPopupClick:function(t){var n=e.onOverlayClick;z(!1),n&&n(t)},getPopupContainer:k}),ne)}e("D",v.forwardRef(h))}}}));
