import{r,g as w,j as e,S as z,P as k,a as b,b as y}from"./index-BlHcfaAy.js";import{T as S}from"./Table-CmGk3ZbK.js";function C(){const f=s=>{console.log("search",s)},t=r.useRef({page:1,page_size:11}),[o,p]=r.useState([{label:"Blocks",filter:null,active:!0},{label:"Blackhole Blocks",filter:1,active:!1},{label:"Penalty Blocks",filter:2,active:!1}]),[h,x]=r.useState(!1),[a,m]=r.useState(),[i,g]=r.useState({blocks:[],total:0}),c=async()=>{try{x(!0);const s=await b(t.current);g(s)}finally{x(!1)}};r.useEffect(()=>{c(),j()},[]);const u=s=>{t.current.page=s,c()},j=async()=>{const s=await w();m(s)},v=[{title:"Height",key:"number",render(s){const l=s;return e.jsx("span",{className:"link hover:color-#1677ff",children:l.number})}},{title:"Proposer",key:"miner",render(s){const l=s;return e.jsx("span",{className:"link hover:color-#1677ff",children:`${y(l.miner,5,18)}`})}},{title:"TXN",key:"totalTransaction"},{title:"Gas Used",key:"Height",render(s){return`${s.gasUsed} %`}},{title:"Gas Limit",key:"gasLimit",render(s){return s.gasLimit}},{title:"Block Size",key:"size",render(s){return`${s.size} Bytes`}}],N=s=>{const l=o.map(n=>n);l.forEach(n=>{n.filter===s.filter?n.active=!0:n.active=!1}),p(l);const d=s.filter;d?t.current.filter=d:delete t.current.filter,t.current.page=1,c()};return e.jsxs("div",{className:"page-chain flex flex-col flex-col-reverse lg:flex-row",children:[e.jsxs("div",{className:"chain-header flex-1 mt-20px lg:mt-0 w-100%",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row w-100% lg:h-48px",children:[e.jsx("div",{className:"flex-1 flex gap-10px",children:o.map(s=>e.jsx("div",{className:`chain-btn white-space ${s.active?"active":""}`,onClick:()=>N(s),children:s.label},s.label))}),e.jsx("div",{className:"flex-1 lg:ml-26px pt-20px lg:pt-0",children:e.jsx(z,{onSearch:f,className:"font-size-14px"})})]}),e.jsx("div",{className:"lg:h-63.5vh",children:e.jsxs("div",{className:"table-list mt-14px flex-1 h-100%",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between p-10px",children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"CHAIN INFORMATION"}),e.jsx(k,{current:t.current.page,pageSize:t.current.page_size,total:i.total,onChange:u})]}),e.jsx("div",{className:"flex h-90%",children:e.jsx(S,{columns:v,dataSources:i==null?void 0:i.blocks,loading:h})})]})})]}),e.jsxs("div",{className:"mt-20px lg:mt-0 w-100% lg:w-250px lg:ml-22px flex justify-between flex-row lg:flex-col",children:[e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"Block Height"}),e.jsx("div",{className:"font-size-16px lg:font-size-24px mt-16px",children:a==null?void 0:a.totalBlock})]})}),e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"Total ERB Rewards"}),e.jsx("div",{className:"font-size-16px lg:font-size-24px mt-16px",children:a==null?void 0:a.rewardCoinCount})]})}),e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"Total CSBT"}),e.jsx("div",{className:"font-size-16px lg:font-size-24px mt-16px",children:a==null?void 0:a.rewardSNFTCount})]})})]})]})}export{C as default};
