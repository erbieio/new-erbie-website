import{c as D,f as Ee,d as Re,e as $,i as pt,j as en,a as It,b as _e,k as Ft,_ as Ut,l as rn,g as Mr,h as tn}from"./@babel-DVGmkmWW.js";import{r as u}from"./react-CBAF3Uyv.js";import{r as Jt}from"./react-dom-CAO6cgV8.js";import{c as Or,u as K,d as nn,a as an,r as Et,s as Yr,e as Qt,f as on,h as sn,i as ke,j as bt,k as un,g as Ct,l as fn,m as cn,n as ln}from"./rc-util-QCJIF2Vz.js";import{c as ur}from"./classnames-CKeVMnuN.js";import{R as Zt}from"./rc-resize-observer-5S44p-O-.js";import{C as Gt}from"./rc-motion-CH1JEF2r.js";var Kt=u.createContext(null),Rt=[];function vn(t,e){var r=u.useState(function(){if(!Or())return null;var c=document.createElement("div");return c}),n=D(r,1),a=n[0],i=u.useRef(!1),o=u.useContext(Kt),s=u.useState(Rt),d=D(s,2),h=d[0],m=d[1],l=o||(i.current?void 0:function(c){m(function(S){var f=[c].concat(Ee(S));return f})});function C(){a.parentElement||document.body.appendChild(a),i.current=!0}function y(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a),i.current=!1}return K(function(){return t?o?o(C):C():y(),y},[t]),K(function(){h.length&&(h.forEach(function(c){return c()}),m(Rt))},[h]),[a,l]}function dn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var hn="rc-util-locker-".concat(Date.now()),Dt=0;function mn(t){var e=!!t,r=u.useState(function(){return Dt+=1,"".concat(hn,"_").concat(Dt)}),n=D(r,1),a=n[0];K(function(){if(e){var i=nn(document.body).width,o=dn();an("\nhtml body {\n  overflow-y: hidden;\n  ".concat(o?"width: calc(100% - ".concat(i,"px);"):"","\n}"),a)}else Et(a);return function(){Et(a)}},[e,a])}var gn=!1;function yn(t){return gn}var At=function(e){return e===!1?!1:!Or()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Ot=u.forwardRef(function(t,e){var r=t.open,n=t.autoLock,a=t.getContainer;t.debug;var i=t.autoDestroy,o=i===void 0?!0:i,s=t.children,d=u.useState(r),h=D(d,2),m=h[0],l=h[1],C=m||r;u.useEffect(function(){(o||r)&&l(r)},[r,o]);var y=u.useState(function(){return At(a)}),c=D(y,2),S=c[0],f=c[1];u.useEffect(function(){var O=At(a);f(O!=null?O:null)});var q=vn(C&&!S),w=D(q,2),M=w[0],g=w[1],x=S!=null?S:M;mn(n&&r&&Or()&&(x===M||x===document.body));var A=null;if(s&&Yr(s)&&e){var R=s;A=R.ref}var U=Qt(A,e);if(!C||!Or()||S===void 0)return null;var W=x===!1||yn(),J=s;return e&&(J=u.cloneElement(s,{ref:U})),u.createElement(Kt.Provider,{value:g},W?J:Jt.createPortal(J,x))});function St(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Mt=St();var wn=/%[sdj%]/g,bn=function(){};function Pt(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function re(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=0,i=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(wn,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch(d){return"[Circular]"}break;default:return s}});return o}return t}function Cn(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function I(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Cn(e)&&typeof t=="string"&&!t)}function Sn(t,e,r){var n=[],a=0,i=t.length;function o(s){n.push.apply(n,Ee(s||[])),a++,a===i&&r(n)}t.forEach(function(s){e(s,o)})}function Nt(t,e,r){var n=0,a=t.length;function i(o){if(o&&o.length){r(o);return}var s=n;n=n+1,s<a?e(t[s],i):r([])}i([])}function Mn(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,Ee(t[r]||[]))}),e}var $t=function(t){pt(r,t);var e=en(r);function r(n,a){var i;return It(this,r),i=e.call(this,"Async Validation Error"),_e(Ft(i),"errors",void 0),_e(Ft(i),"fields",void 0),i.errors=n,i.fields=a,i}return Ut(r)}(rn(Error));function Pn(t,e,r,n,a){if(e.first){var i=new Promise(function(C,y){var c=function(q){return n(q),q.length?y(new $t(q,Pt(q))):C(a)},S=Mn(t);Nt(S,r,c)});return i.catch(function(C){return C}),i}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),d=s.length,h=0,m=[],l=new Promise(function(C,y){var c=function(f){if(m.push.apply(m,f),h++,h===d)return n(m),m.length?y(new $t(m,Pt(m))):C(a)};s.length||(n(m),C(a)),s.forEach(function(S){var f=t[S];o.indexOf(S)!==-1?Nt(f,r,c):Sn(f,r,c)})});return l.catch(function(C){return C}),l}function xn(t){return!!(t&&t.message!==void 0)}function qn(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function Tt(t,e){return function(r){var n;return t.fullFields?n=qn(e,t.fullFields):n=e[r.field||t.fullField],xn(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function Lt(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Re(n)==="object"&&Re(t[r])==="object"?t[r]=$($({},t[r]),n):t[r]=n}}return t}var or="enum",Fn=function(e,r,n,a,i){e[or]=Array.isArray(e[or])?e[or]:[],e[or].indexOf(r)===-1&&a.push(re(i.messages[or],e.fullField,e[or].join(", ")))},En=function(e,r,n,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(re(i.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||a.push(re(i.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},Rn=function(e,r,n,a,i){var o=typeof e.len=="number",s=typeof e.min=="number",d=typeof e.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r,l=null,C=typeof r=="number",y=typeof r=="string",c=Array.isArray(r);if(C?l="number":y?l="string":c&&(l="array"),!l)return!1;c&&(m=r.length),y&&(m=r.replace(h,"_").length),o?m!==e.len&&a.push(re(i.messages[l].len,e.fullField,e.len)):s&&!d&&m<e.min?a.push(re(i.messages[l].min,e.fullField,e.min)):d&&!s&&m>e.max?a.push(re(i.messages[l].max,e.fullField,e.max)):s&&d&&(m<e.min||m>e.max)&&a.push(re(i.messages[l].range,e.fullField,e.min,e.max))},Yt=function(e,r,n,a,i,o){e.required&&(!n.hasOwnProperty(e.field)||I(r,o||e.type))&&a.push(re(i.messages.required,e.fullField))},Kr;const Dn=function(){if(Kr)return Kr;var t="[a-fA-F\\d:]",e=function(A){return A&&A.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),s=new RegExp("(?:^".concat(r,"$)|(?:^").concat(o,"$)")),d=new RegExp("^".concat(r,"$")),h=new RegExp("^".concat(o,"$")),m=function(A){return A&&A.exact?s:new RegExp("(?:".concat(e(A)).concat(r).concat(e(A),")|(?:").concat(e(A)).concat(o).concat(e(A),")"),"g")};m.v4=function(x){return x&&x.exact?d:new RegExp("".concat(e(x)).concat(r).concat(e(x)),"g")},m.v6=function(x){return x&&x.exact?h:new RegExp("".concat(e(x)).concat(o).concat(e(x)),"g")};var l="(?:(?:[a-z]+:)?//)",C="(?:\\S+(?::\\S*)?@)?",y=m.v4().source,c=m.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",f="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",q="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",M='(?:[/?#][^\\s"]*)?',g="(?:".concat(l,"|www\\.)").concat(C,"(?:localhost|").concat(y,"|").concat(c,"|").concat(S).concat(f).concat(q,")").concat(w).concat(M);return Kr=new RegExp("(?:^".concat(g,"$)"),"i"),Kr};var kt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Sr={integer:function(e){return Sr.number(e)&&parseInt(e,10)===e},float:function(e){return Sr.number(e)&&!Sr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(r){return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Re(e)==="object"&&!Sr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(kt.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Dn())},hex:function(e){return typeof e=="string"&&!!e.match(kt.hex)}},An=function(e,r,n,a,i){if(e.required&&r===void 0){Yt(e,r,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;o.indexOf(s)>-1?Sr[s](r)||a.push(re(i.messages.types[s],e.fullField,e.type)):s&&Re(r)!==e.type&&a.push(re(i.messages.types[s],e.fullField,e.type))},Nn=function(e,r,n,a,i){(/^\s+$/.test(r)||r==="")&&a.push(re(i.messages.whitespace,e.fullField))};const P={required:Yt,whitespace:Nn,type:An,range:Rn,enum:Fn,pattern:En};var $n=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i)}n(o)},Tn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r==null&&!e.required)return n();P.required(e,r,a,o,i,"array"),r!=null&&(P.type(e,r,a,o,i),P.range(e,r,a,o,i))}n(o)},Ln=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i),r!==void 0&&P.type(e,r,a,o,i)}n(o)},kn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r,"date")&&!e.required)return n();if(P.required(e,r,a,o,i),!I(r,"date")){var d;r instanceof Date?d=r:d=new Date(r),P.type(e,d,a,o,i),d&&P.range(e,d.getTime(),a,o,i)}}n(o)},_n="enum",jn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i),r!==void 0&&P[_n](e,r,a,o,i)}n(o)},Vn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i),r!==void 0&&(P.type(e,r,a,o,i),P.range(e,r,a,o,i))}n(o)},Wn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i),r!==void 0&&(P.type(e,r,a,o,i),P.range(e,r,a,o,i))}n(o)},zn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i),r!==void 0&&P.type(e,r,a,o,i)}n(o)},Bn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r===""&&(r=void 0),I(r)&&!e.required)return n();P.required(e,r,a,o,i),r!==void 0&&(P.type(e,r,a,o,i),P.range(e,r,a,o,i))}n(o)},Hn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i),r!==void 0&&P.type(e,r,a,o,i)}n(o)},In=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r,"string")&&!e.required)return n();P.required(e,r,a,o,i),I(r,"string")||P.pattern(e,r,a,o,i)}n(o)},Un=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r)&&!e.required)return n();P.required(e,r,a,o,i),I(r)||P.type(e,r,a,o,i)}n(o)},Jn=function(e,r,n,a,i){var o=[],s=Array.isArray(r)?"array":Re(r);P.required(e,r,a,o,i,s),n(o)},Qn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(I(r,"string")&&!e.required)return n();P.required(e,r,a,o,i,"string"),I(r,"string")||(P.type(e,r,a,o,i),P.range(e,r,a,o,i),P.pattern(e,r,a,o,i),e.whitespace===!0&&P.whitespace(e,r,a,o,i))}n(o)},wt=function(e,r,n,a,i){var o=e.type,s=[],d=e.required||!e.required&&a.hasOwnProperty(e.field);if(d){if(I(r,o)&&!e.required)return n();P.required(e,r,a,s,i,o),I(r,o)||P.type(e,r,a,s,i)}n(s)};const Pr={string:Qn,method:zn,number:Bn,boolean:Ln,regexp:Un,integer:Wn,float:Vn,array:Tn,object:Hn,enum:jn,pattern:In,date:kn,url:wt,hex:wt,email:wt,required:Jn,any:$n};var Xr=function(){function t(e){It(this,t),_e(this,"rules",null),_e(this,"_messages",Mt),this.define(e)}return Ut(t,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(Re(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var i=r[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(r){return r&&(this._messages=Lt(St(),r)),this._messages}},{key:"validate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=r,s=a,d=i;if(typeof s=="function"&&(d=s,s={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,o),Promise.resolve(o);function h(c){var S=[],f={};function q(M){if(Array.isArray(M)){var g;S=(g=S).concat.apply(g,Ee(M))}else S.push(M)}for(var w=0;w<c.length;w++)q(c[w]);S.length?(f=Pt(S),d(S,f)):d(null,o)}if(s.messages){var m=this.messages();m===Mt&&(m=St()),Lt(m,s.messages),s.messages=m}else s.messages=this.messages();var l={},C=s.keys||Object.keys(this.rules);C.forEach(function(c){var S=n.rules[c],f=o[c];S.forEach(function(q){var w=q;typeof w.transform=="function"&&(o===r&&(o=$({},o)),f=o[c]=w.transform(f),f!=null&&(w.type=w.type||(Array.isArray(f)?"array":Re(f)))),typeof w=="function"?w={validator:w}:w=$({},w),w.validator=n.getValidationMethod(w),w.validator&&(w.field=c,w.fullField=w.fullField||c,w.type=n.getType(w),l[c]=l[c]||[],l[c].push({rule:w,value:f,source:o,field:c}))})});var y={};return Pn(l,s,function(c,S){var f=c.rule,q=(f.type==="object"||f.type==="array")&&(Re(f.fields)==="object"||Re(f.defaultField)==="object");q=q&&(f.required||!f.required&&c.value),f.field=c.field;function w(R,U){return $($({},U),{},{fullField:"".concat(f.fullField,".").concat(R),fullFields:f.fullFields?[].concat(Ee(f.fullFields),[R]):[R]})}function M(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=Array.isArray(R)?R:[R];!s.suppressWarning&&U.length&&t.warning("async-validator:",U),U.length&&f.message!==void 0&&(U=[].concat(f.message));var W=U.map(Tt(f,o));if(s.first&&W.length)return y[f.field]=1,S(W);if(!q)S(W);else{if(f.required&&!c.value)return f.message!==void 0?W=[].concat(f.message).map(Tt(f,o)):s.error&&(W=[s.error(f,re(s.messages.required,f.field))]),S(W);var J={};f.defaultField&&Object.keys(c.value).map(function(z){J[z]=f.defaultField}),J=$($({},J),c.rule.fields);var O={};Object.keys(J).forEach(function(z){var k=J[z],fe=Array.isArray(k)?k:[k];O[z]=fe.map(w.bind(null,z))});var te=new t(O);te.messages(s.messages),c.rule.options&&(c.rule.options.messages=s.messages,c.rule.options.error=s.error),te.validate(c.value,c.rule.options||s,function(z){var k=[];W&&W.length&&k.push.apply(k,Ee(W)),z&&z.length&&k.push.apply(k,Ee(z)),S(k.length?k:null)})}}var g;if(f.asyncValidator)g=f.asyncValidator(f,c.value,M,c.source,s);else if(f.validator){try{g=f.validator(f,c.value,M,c.source,s)}catch(R){var x,A;(x=(A=console).error)===null||x===void 0||x.call(A,R),s.suppressValidatorError||setTimeout(function(){throw R},0),M(R.message)}g===!0?M():g===!1?M(typeof f.message=="function"?f.message(f.fullField||f.field):f.message||"".concat(f.fullField||f.field," fails")):g instanceof Array?M(g):g instanceof Error&&M(g.message)}g&&g.then&&g.then(function(){return M()},function(R){return M(R)})},function(c){h(c)},o)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Pr.hasOwnProperty(r.type))throw new Error(re("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Pr.required:Pr[this.getType(r)]||void 0}}]),t}();_e(Xr,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Pr[e]=r});_e(Xr,"warning",bn);_e(Xr,"messages",Mt);_e(Xr,"validators",Pr);function Zn(t){var e=t.prefixCls,r=t.align,n=t.arrow,a=t.arrowPos,i=n||{},o=i.className,s=i.content,d=a.x,h=d===void 0?0:d,m=a.y,l=m===void 0?0:m,C=u.useRef();if(!r||!r.points)return null;var y={position:"absolute"};if(r.autoArrow!==!1){var c=r.points[0],S=r.points[1],f=c[0],q=c[1],w=S[0],M=S[1];f===w||!["t","b"].includes(f)?y.top=l:f==="t"?y.top=0:y.bottom=0,q===M||!["l","r"].includes(q)?y.left=h:q==="l"?y.left=0:y.right=0}return u.createElement("div",{ref:C,className:ur("".concat(e,"-arrow"),o),style:y},s)}function Gn(t){var e=t.prefixCls,r=t.open,n=t.zIndex,a=t.mask,i=t.motion;return a?u.createElement(Gt,Mr({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(o){var s=o.className;return u.createElement("div",{style:{zIndex:n},className:ur("".concat(e,"-mask"),s)})}):null}var Kn=u.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),On=u.forwardRef(function(t,e){var r=t.popup,n=t.className,a=t.prefixCls,i=t.style,o=t.target,s=t.onVisibleChanged,d=t.open,h=t.keepDom,m=t.fresh,l=t.onClick,C=t.mask,y=t.arrow,c=t.arrowPos,S=t.align,f=t.motion,q=t.maskMotion,w=t.forceRender,M=t.getPopupContainer,g=t.autoDestroy,x=t.portal,A=t.zIndex,R=t.onMouseEnter,U=t.onMouseLeave,W=t.onPointerEnter,J=t.ready,O=t.offsetX,te=t.offsetY,z=t.offsetR,k=t.offsetB,fe=t.onAlign,B=t.onPrepare,Q=t.stretch,F=t.targetWidth,ne=t.targetHeight,N=typeof r=="function"?r():r,ge=d||h,ce=(M==null?void 0:M.length)>0,fr=u.useState(!M||!ce),Oe=D(fr,2),Ce=Oe[0],Ye=Oe[1];if(K(function(){!Ce&&ce&&o&&Ye(!0)},[Ce,ce,o]),!Ce)return null;var le="auto",Z={left:"-1000vw",top:"-1000vh",right:le,bottom:le};if(J||!d){var ae,ye=S.points,we=S.dynamicInset||((ae=S._experimental)===null||ae===void 0?void 0:ae.dynamicInset),Xe=we&&ye[0][1]==="r",cr=we&&ye[0][0]==="b";Xe?(Z.right=z,Z.left=le):(Z.left=O,Z.right=le),cr?(Z.bottom=k,Z.top=le):(Z.top=te,Z.bottom=le)}var G={};return Q&&(Q.includes("height")&&ne?G.height=ne:Q.includes("minHeight")&&ne&&(G.minHeight=ne),Q.includes("width")&&F?G.width=F:Q.includes("minWidth")&&F&&(G.minWidth=F)),d||(G.pointerEvents="none"),u.createElement(x,{open:w||ge,getContainer:M&&function(){return M(o)},autoDestroy:g},u.createElement(Gn,{prefixCls:a,open:d,zIndex:A,mask:C,motion:q}),u.createElement(Zt,{onResize:fe,disabled:!d},function(pe){return u.createElement(Gt,Mr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},f,{onAppearPrepare:B,onEnterPrepare:B,visible:d,onVisibleChanged:function(p){var Se;f==null||(Se=f.onVisibleChanged)===null||Se===void 0||Se.call(f,p),s(p)}}),function(De,p){var Se=De.className,E=De.style,je=ur(a,Se,n);return u.createElement("div",{ref:on(pe,e,p),className:je,style:$($($($({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},Z),G),E),{},{boxSizing:"border-box",zIndex:A},i),onMouseEnter:R,onMouseLeave:U,onPointerEnter:W,onClick:l},y&&u.createElement(Zn,{prefixCls:a,arrow:y,arrowPos:c,align:S}),u.createElement(Kn,{cache:!d&&!m},N))})}))}),Yn=u.forwardRef(function(t,e){var r=t.children,n=t.getTriggerDOMNode,a=Yr(r),i=u.useCallback(function(s){sn(e,n?n(s):s)},[n]),o=Qt(i,r.ref);return a?u.cloneElement(r,{ref:o}):r}),_t=u.createContext(null);function jt(t){return t?Array.isArray(t)?t:[t]:[]}function Xn(t,e,r,n){return u.useMemo(function(){var a=jt(r!=null?r:e),i=jt(n!=null?n:e),o=new Set(a),s=new Set(i);return t&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]},[t,e,r,n])}function pn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function ea(t,e,r,n){for(var a=r.points,i=Object.keys(t),o=0;o<i.length;o+=1){var s,d=i[o];if(pn((s=t[d])===null||s===void 0?void 0:s.points,a,n))return"".concat(e,"-placement-").concat(d)}return""}function Vt(t,e,r,n){return e||(r?{motionName:"".concat(t,"-").concat(r)}:n?{motionName:n}:null)}function qr(t){return t.ownerDocument.defaultView}function xt(t){for(var e=[],r=t==null?void 0:t.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=qr(r).getComputedStyle(r),i=a.overflowX,o=a.overflowY,s=a.overflow;[i,o,s].some(function(d){return n.includes(d)})&&e.push(r),r=r.parentElement}return e}function xr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Cr(t){return xr(parseFloat(t),0)}function Wt(t,e){var r=$({},t);return(e||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=qr(n).getComputedStyle(n),i=a.overflow,o=a.overflowClipMargin,s=a.borderTopWidth,d=a.borderBottomWidth,h=a.borderLeftWidth,m=a.borderRightWidth,l=n.getBoundingClientRect(),C=n.offsetHeight,y=n.clientHeight,c=n.offsetWidth,S=n.clientWidth,f=Cr(s),q=Cr(d),w=Cr(h),M=Cr(m),g=xr(Math.round(l.width/c*1e3)/1e3),x=xr(Math.round(l.height/C*1e3)/1e3),A=(c-S-w-M)*g,R=(C-y-f-q)*x,U=f*x,W=q*x,J=w*g,O=M*g,te=0,z=0;if(i==="clip"){var k=Cr(o);te=k*g,z=k*x}var fe=l.x+J-te,B=l.y+U-z,Q=fe+l.width+2*te-J-O-A,F=B+l.height+2*z-U-W-R;r.left=Math.max(r.left,fe),r.top=Math.max(r.top,B),r.right=Math.min(r.right,Q),r.bottom=Math.min(r.bottom,F)}}),r}function zt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),n=r.match(/^(.*)\%$/);return n?t*(parseFloat(n[1])/100):parseFloat(r)}function Bt(t,e){var r=e||[],n=D(r,2),a=n[0],i=n[1];return[zt(t.width,a),zt(t.height,i)]}function Ht(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function sr(t,e){var r=e[0],n=e[1],a,i;return r==="t"?i=t.y:r==="b"?i=t.y+t.height:i=t.y+t.height/2,n==="l"?a=t.x:n==="r"?a=t.x+t.width:a=t.x+t.width/2,{x:a,y:i}}function Le(t,e){var r={t:"b",b:"t",l:"r",r:"l"};return t.map(function(n,a){return a===e?r[n]||"c":n}).join("")}function ra(t,e,r,n,a,i,o){var s=u.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),d=D(s,2),h=d[0],m=d[1],l=u.useRef(0),C=u.useMemo(function(){return e?xt(e):[]},[e]),y=u.useRef({}),c=function(){y.current={}};t||c();var S=ke(function(){if(e&&r&&t){let se=function(Ir,ue){var ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:je,Ur=N.x+Ir,ir=N.y+ue,Jr=Ur+ae,br=ir+Z,Qr=Math.max(Ur,ar.left),ht=Math.max(ir,ar.top),mt=Math.min(Jr,ar.right),gt=Math.min(br,ar.bottom);return Math.max(0,(mt-Qr)*(gt-ht))},Hr=function(){Ie=N.y+_,Ue=Ie+Z,xe=N.x+V,Je=xe+ae};var w,M,g=e,x=g.ownerDocument,A=qr(g),R=A.getComputedStyle(g),U=R.width,W=R.height,J=R.position,O=g.style.left,te=g.style.top,z=g.style.right,k=g.style.bottom,fe=g.style.overflow,B=$($({},a[n]),i),Q=x.createElement("div");(w=g.parentElement)===null||w===void 0||w.appendChild(Q),Q.style.left="".concat(g.offsetLeft,"px"),Q.style.top="".concat(g.offsetTop,"px"),Q.style.position=J,Q.style.height="".concat(g.offsetHeight,"px"),Q.style.width="".concat(g.offsetWidth,"px"),g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto",g.style.overflow="hidden";var F;if(Array.isArray(r))F={x:r[0],y:r[1],width:0,height:0};else{var ne=r.getBoundingClientRect();F={x:ne.x,y:ne.y,width:ne.width,height:ne.height}}var N=g.getBoundingClientRect(),ge=x.documentElement,ce=ge.clientWidth,fr=ge.clientHeight,Oe=ge.scrollWidth,Ce=ge.scrollHeight,Ye=ge.scrollTop,le=ge.scrollLeft,Z=N.height,ae=N.width,ye=F.height,we=F.width,Xe={left:0,top:0,right:ce,bottom:fr},cr={left:-le,top:-Ye,right:Oe-le,bottom:Ce-Ye},G=B.htmlRegion,pe="visible",De="visibleFirst";G!=="scroll"&&G!==De&&(G=pe);var p=G===De,Se=Wt(cr,C),E=Wt(Xe,C),je=G===pe?E:Se,ie=p?E:je;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var Fr=g.getBoundingClientRect();g.style.left=O,g.style.top=te,g.style.right=z,g.style.bottom=k,g.style.overflow=fe,(M=g.parentElement)===null||M===void 0||M.removeChild(Q);var Ve=xr(Math.round(ae/parseFloat(U)*1e3)/1e3),We=xr(Math.round(Z/parseFloat(W)*1e3)/1e3);if(Ve===0||We===0||bt(r)&&!un(r))return;var Er=B.offset,Y=B.targetOffset,pr=Bt(N,Er),lr=D(pr,2),ve=lr[0],de=lr[1],Rr=Bt(F,Y),he=D(Rr,2),et=he[0],Dr=he[1];F.x-=et,F.y-=Dr;var rt=B.points||[],ze=D(rt,2),oe=ze[0],Ae=ze[1],Me=Ht(Ae),ee=Ht(oe),Ar=sr(F,Me),Nr=sr(N,ee),Pe=$({},B),V=Ar.x-Nr.x+ve,_=Ar.y-Nr.y+de,j=se(V,_),er=se(V,_,E),Ne=sr(F,["t","l"]),Be=sr(N,["t","l"]),vr=sr(F,["b","r"]),dr=sr(N,["b","r"]),He=B.overflow||{},me=He.adjustX,tt=He.adjustY,hr=He.shiftX,rr=He.shiftY,mr=function(ue){return typeof ue=="boolean"?ue:ue>=0},Ie,Ue,xe,Je;Hr();var $r=mr(tt),gr=ee[0]===Me[0];if($r&&ee[0]==="t"&&(Ue>ie.bottom||y.current.bt)){var $e=_;gr?$e-=Z-ye:$e=Ne.y-dr.y-de;var Tr=se(V,$e),tr=se(V,$e,E);Tr>j||Tr===j&&(!p||tr>=er)?(y.current.bt=!0,_=$e,de=-de,Pe.points=[Le(ee,0),Le(Me,0)]):y.current.bt=!1}if($r&&ee[0]==="b"&&(Ie<ie.top||y.current.tb)){var Qe=_;gr?Qe+=Z-ye:Qe=vr.y-Be.y-de;var X=se(V,Qe),nt=se(V,Qe,E);X>j||X===j&&(!p||nt>=er)?(y.current.tb=!0,_=Qe,de=-de,Pe.points=[Le(ee,0),Le(Me,0)]):y.current.tb=!1}var Lr=mr(me),kr=ee[1]===Me[1];if(Lr&&ee[1]==="l"&&(Je>ie.right||y.current.rl)){var Ze=V;kr?Ze-=ae-we:Ze=Ne.x-dr.x-ve;var _r=se(Ze,_),at=se(Ze,_,E);_r>j||_r===j&&(!p||at>=er)?(y.current.rl=!0,V=Ze,ve=-ve,Pe.points=[Le(ee,1),Le(Me,1)]):y.current.rl=!1}if(Lr&&ee[1]==="r"&&(xe<ie.left||y.current.lr)){var Ge=V;kr?Ge+=ae-we:Ge=vr.x-Be.x-ve;var jr=se(Ge,_),it=se(Ge,_,E);jr>j||jr===j&&(!p||it>=er)?(y.current.lr=!0,V=Ge,ve=-ve,Pe.points=[Le(ee,1),Le(Me,1)]):y.current.lr=!1}Hr();var be=hr===!0?0:hr;typeof be=="number"&&(xe<E.left&&(V-=xe-E.left-ve,F.x+we<E.left+be&&(V+=F.x-E.left+we-be)),Je>E.right&&(V-=Je-E.right-ve,F.x>E.right-be&&(V+=F.x-E.right+be)));var qe=rr===!0?0:rr;typeof qe=="number"&&(Ie<E.top&&(_-=Ie-E.top-de,F.y+ye<E.top+qe&&(_+=F.y-E.top+ye-qe)),Ue>E.bottom&&(_-=Ue-E.bottom-de,F.y>E.bottom-qe&&(_+=F.y-E.bottom+qe)));var yr=N.x+V,Vr=yr+ae,Te=N.y+_,Ke=Te+Z,wr=F.x,nr=wr+we,Fe=F.y,ot=Fe+ye,st=Math.max(yr,wr),ut=Math.min(Vr,nr),Wr=(st+ut)/2,ft=Wr-yr,ct=Math.max(Te,Fe),lt=Math.min(Ke,ot),zr=(ct+lt)/2,vt=zr-Te;o==null||o(e,Pe);var dt=Fr.right-N.x-(V+N.width),Br=Fr.bottom-N.y-(_+N.height);m({ready:!0,offsetX:V/Ve,offsetY:_/We,offsetR:dt/Ve,offsetB:Br/We,arrowX:ft/Ve,arrowY:vt/We,scaleX:Ve,scaleY:We,align:Pe})}}),f=function(){l.current+=1;var M=l.current;Promise.resolve().then(function(){l.current===M&&S()})},q=function(){m(function(M){return $($({},M),{},{ready:!1})})};return K(q,[n]),K(function(){t||q()},[t]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,f]}function ta(t,e,r,n,a){K(function(){if(t&&e&&r){let l=function(){n(),a()};var i=e,o=r,s=xt(i),d=xt(o),h=qr(o),m=new Set([h].concat(Ee(s),Ee(d)));return m.forEach(function(C){C.addEventListener("scroll",l,{passive:!0})}),h.addEventListener("resize",l,{passive:!0}),n(),function(){m.forEach(function(C){C.removeEventListener("scroll",l),h.removeEventListener("resize",l)})}}},[t,e,r])}function na(t,e,r,n,a,i,o,s){var d=u.useRef(t);d.current=t,u.useEffect(function(){if(e&&n&&(!a||i)){var h=function(y){var c=y.target;d.current&&!o(c)&&s(!1)},m=qr(n);m.addEventListener("mousedown",h,!0),m.addEventListener("contextmenu",h,!0);var l=Ct(r);return l&&(l.addEventListener("mousedown",h,!0),l.addEventListener("contextmenu",h,!0)),function(){m.removeEventListener("mousedown",h,!0),m.removeEventListener("contextmenu",h,!0),l&&(l.removeEventListener("mousedown",h,!0),l.removeEventListener("contextmenu",h,!0))}}},[e,r,n,a,i])}var aa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ia(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ot,e=u.forwardRef(function(r,n){var a=r.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=r.children,s=r.action,d=s===void 0?"hover":s,h=r.showAction,m=r.hideAction,l=r.popupVisible,C=r.defaultPopupVisible,y=r.onPopupVisibleChange,c=r.afterPopupVisibleChange,S=r.mouseEnterDelay,f=r.mouseLeaveDelay,q=f===void 0?.1:f,w=r.focusDelay,M=r.blurDelay,g=r.mask,x=r.maskClosable,A=x===void 0?!0:x,R=r.getPopupContainer,U=r.forceRender,W=r.autoDestroy,J=r.destroyPopupOnHide,O=r.popup,te=r.popupClassName,z=r.popupStyle,k=r.popupPlacement,fe=r.builtinPlacements,B=fe===void 0?{}:fe,Q=r.popupAlign,F=r.zIndex,ne=r.stretch,N=r.getPopupClassNameFromAlign,ge=r.fresh,ce=r.alignPoint,fr=r.onPopupClick,Oe=r.onPopupAlign,Ce=r.arrow,Ye=r.popupMotion,le=r.maskMotion,Z=r.popupTransitionName,ae=r.popupAnimation,ye=r.maskTransitionName,we=r.maskAnimation,Xe=r.className,cr=r.getTriggerDOMNode,G=tn(r,aa),pe=W||J||!1,De=u.useState(!1),p=D(De,2),Se=p[0],E=p[1];K(function(){E(fn())},[]);var je=u.useRef({}),ie=u.useContext(_t),Fr=u.useMemo(function(){return{registerSubPopup:function(b,T){je.current[b]=T,ie==null||ie.registerSubPopup(b,T)}}},[ie]),Ve=cn(),We=u.useState(null),Er=D(We,2),Y=Er[0],pr=Er[1],lr=u.useRef(null),ve=ke(function(v){lr.current=v,bt(v)&&Y!==v&&pr(v),ie==null||ie.registerSubPopup(Ve,v)}),de=u.useState(null),Rr=D(de,2),he=Rr[0],et=Rr[1],Dr=u.useRef(null),rt=ke(function(v){bt(v)&&he!==v&&(et(v),Dr.current=v)}),ze=u.Children.only(o),oe=(ze==null?void 0:ze.props)||{},Ae={},Me=ke(function(v){var b,T,H=he;return(H==null?void 0:H.contains(v))||((b=Ct(H))===null||b===void 0?void 0:b.host)===v||v===H||(Y==null?void 0:Y.contains(v))||((T=Ct(Y))===null||T===void 0?void 0:T.host)===v||v===Y||Object.values(je.current).some(function(L){return(L==null?void 0:L.contains(v))||v===L})}),ee=Vt(i,Ye,ae,Z),Ar=Vt(i,le,we,ye),Nr=u.useState(C||!1),Pe=D(Nr,2),V=Pe[0],_=Pe[1],j=l!=null?l:V,er=ke(function(v){l===void 0&&_(v)});K(function(){_(l||!1)},[l]);var Ne=u.useRef(j);Ne.current=j;var Be=u.useRef([]);Be.current=[];var vr=ke(function(v){var b;er(v),((b=Be.current[Be.current.length-1])!==null&&b!==void 0?b:j)!==v&&(Be.current.push(v),y==null||y(v))}),dr=u.useRef(),He=function(){clearTimeout(dr.current)},me=function(b){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;He(),T===0?vr(b):dr.current=setTimeout(function(){vr(b)},T*1e3)};u.useEffect(function(){return He},[]);var tt=u.useState(!1),hr=D(tt,2),rr=hr[0],mr=hr[1];K(function(v){(!v||j)&&mr(!0)},[j]);var Ie=u.useState(null),Ue=D(Ie,2),xe=Ue[0],Je=Ue[1],$r=u.useState([0,0]),gr=D($r,2),$e=gr[0],Tr=gr[1],tr=function(b){Tr([b.clientX,b.clientY])},Qe=ra(j,Y,ce?$e:he,k,B,Q,Oe),X=D(Qe,11),nt=X[0],Lr=X[1],kr=X[2],Ze=X[3],_r=X[4],at=X[5],Ge=X[6],jr=X[7],it=X[8],be=X[9],qe=X[10],yr=Xn(Se,d,h,m),Vr=D(yr,2),Te=Vr[0],Ke=Vr[1],wr=Te.has("click"),nr=Ke.has("click")||Ke.has("contextMenu"),Fe=ke(function(){rr||qe()}),ot=function(){Ne.current&&ce&&nr&&me(!1)};ta(j,he,Y,Fe,ot),K(function(){Fe()},[$e,k]),K(function(){j&&!(B!=null&&B[k])&&Fe()},[JSON.stringify(Q)]);var st=u.useMemo(function(){var v=ea(B,i,be,ce);return ur(v,N==null?void 0:N(be))},[be,N,B,i,ce]);u.useImperativeHandle(n,function(){return{nativeElement:Dr.current,popupElement:lr.current,forceAlign:Fe}});var ut=u.useState(0),Wr=D(ut,2),ft=Wr[0],ct=Wr[1],lt=u.useState(0),zr=D(lt,2),vt=zr[0],dt=zr[1],Br=function(){if(ne&&he){var b=he.getBoundingClientRect();ct(b.width),dt(b.height)}},se=function(){Br(),Fe()},Hr=function(b){mr(!1),qe(),c==null||c(b)},Ir=function(){return new Promise(function(b){Br(),Je(function(){return b})})};K(function(){xe&&(qe(),xe(),Je(null))},[xe]);function ue(v,b,T,H){Ae[v]=function(L){var Zr;H==null||H(L),me(b,T);for(var yt=arguments.length,qt=new Array(yt>1?yt-1:0),Gr=1;Gr<yt;Gr++)qt[Gr-1]=arguments[Gr];(Zr=oe[v])===null||Zr===void 0||Zr.call.apply(Zr,[oe,L].concat(qt))}}(wr||nr)&&(Ae.onClick=function(v){var b;Ne.current&&nr?me(!1):!Ne.current&&wr&&(tr(v),me(!0));for(var T=arguments.length,H=new Array(T>1?T-1:0),L=1;L<T;L++)H[L-1]=arguments[L];(b=oe.onClick)===null||b===void 0||b.call.apply(b,[oe,v].concat(H))}),na(j,nr,he,Y,g,A,Me,me);var ar=Te.has("hover"),Ur=Ke.has("hover"),ir,Jr;ar&&(ue("onMouseEnter",!0,S,function(v){tr(v)}),ue("onPointerEnter",!0,S,function(v){tr(v)}),ir=function(b){(j||rr)&&Y!==null&&Y!==void 0&&Y.contains(b.target)&&me(!0,S)},ce&&(Ae.onMouseMove=function(v){var b;(b=oe.onMouseMove)===null||b===void 0||b.call(oe,v)})),Ur&&(ue("onMouseLeave",!1,q),ue("onPointerLeave",!1,q),Jr=function(){me(!1,q)}),Te.has("focus")&&ue("onFocus",!0,w),Ke.has("focus")&&ue("onBlur",!1,M),Te.has("contextMenu")&&(Ae.onContextMenu=function(v){var b;Ne.current&&Ke.has("contextMenu")?me(!1):(tr(v),me(!0)),v.preventDefault();for(var T=arguments.length,H=new Array(T>1?T-1:0),L=1;L<T;L++)H[L-1]=arguments[L];(b=oe.onContextMenu)===null||b===void 0||b.call.apply(b,[oe,v].concat(H))}),Xe&&(Ae.className=ur(oe.className,Xe));var br=$($({},oe),Ae),Qr={},ht=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];ht.forEach(function(v){G[v]&&(Qr[v]=function(){for(var b,T=arguments.length,H=new Array(T),L=0;L<T;L++)H[L]=arguments[L];(b=br[v])===null||b===void 0||b.call.apply(b,[br].concat(H)),G[v].apply(G,H)})});var mt=u.cloneElement(ze,$($({},br),Qr)),gt={x:at,y:Ge},Xt=Ce?$({},Ce!==!0?Ce:{}):null;return u.createElement(u.Fragment,null,u.createElement(Zt,{disabled:!j,ref:rt,onResize:se},u.createElement(Yn,{getTriggerDOMNode:cr},mt)),u.createElement(_t.Provider,{value:Fr},u.createElement(On,{portal:t,ref:ve,prefixCls:i,popup:O,className:ur(te,st),style:z,target:he,onMouseEnter:ir,onMouseLeave:Jr,onPointerEnter:ir,zIndex:F,open:j,keepDom:rr,fresh:ge,onClick:fr,mask:g,motion:ee,maskMotion:Ar,onVisibleChanged:Hr,onPrepare:Ir,forceRender:U,autoDestroy:pe,getPopupContainer:R,align:be,arrow:Xt,arrowPos:gt,ready:nt,offsetX:Lr,offsetY:kr,offsetR:Ze,offsetB:_r,onAlign:Fe,stretch:ne,targetWidth:ft/jr,targetHeight:vt/it})))});return e}const da=ia(Ot);function ha(t){var e=u.createContext(void 0),r=function(a){var i=a.value,o=a.children,s=u.useRef(i);s.current=i;var d=u.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),h=D(d,1),m=h[0];return K(function(){Jt.unstable_batchedUpdates(function(){m.listeners.forEach(function(l){l(i)})})},[i]),u.createElement(e.Provider,{value:m},o)};return{Context:e,Provider:r,defaultValue:t}}function ma(t,e){var r=ke(typeof e=="function"?e:function(l){if(e===void 0)return l;if(!Array.isArray(e))return l[e];var C={};return e.forEach(function(y){C[y]=l[y]}),C}),n=u.useContext(t==null?void 0:t.Context),a=n||{},i=a.listeners,o=a.getValue,s=u.useRef();s.current=r(n?o():t==null?void 0:t.defaultValue);var d=u.useState({}),h=D(d,2),m=h[1];return K(function(){if(!n)return;function l(C){var y=r(C);ln(s.current,y,!0)||m({})}return i.add(l),function(){i.delete(l)}},[n]),s.current}function ga(){var t=u.createContext(null);function e(){return u.useContext(t)}function r(a,i){var o=Yr(a),s=function(h,m){var l=o?{ref:m}:{},C=u.useRef(0),y=u.useRef(h),c=e();return c!==null?u.createElement(a,Mr({},h,l)):((!i||i(y.current,h))&&(C.current+=1),y.current=h,u.createElement(t.Provider,{value:C.current},u.createElement(a,Mr({},h,l))))};return o?u.forwardRef(s):s}function n(a,i){var o=Yr(a),s=function(h,m){var l=o?{ref:m}:{};return e(),u.createElement(a,Mr({},h,l))};return o?u.memo(u.forwardRef(s),i):u.memo(s,i)}return{makeImmutable:r,responseImmutable:n,useImmutableMark:e}}export{Ot as P,Xr as S,da as T,ha as a,ga as c,ma as u};
