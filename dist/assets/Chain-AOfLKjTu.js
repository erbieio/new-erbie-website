import{r as l,j as e}from"./react-Dbae-1t-.js";import{T as b}from"./Table-CK_z9car.js";import{g as y,S,a as B,b as C}from"./index-B2u8Z8WI.js";import{b as D}from"./react-router-CRc4GyLw.js";import{a as T}from"./antd-BOPYOA0X.js";import"./call-bind-4VeKFXIy.js";import"./get-intrinsic-CWn9CxNF.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-D5MMniOg.js";import"./define-data-property-CxeqjjfW.js";import"./es-define-property-DnzLCweE.js";import"./gopd-9AXXY7mE.js";import"./has-property-descriptors-Ck9uAkqi.js";import"./react-dom-RqR84h2O.js";import"./scheduler-D70Pw1t3.js";import"./react-router-dom-n0I-0IF8.js";import"./@remix-run-CSnr7utK.js";import"./react-redux-DP2quqAp.js";import"./use-sync-external-store-BQt0fPyv.js";import"./@reduxjs-C9AHhNnv.js";import"./redux-BxK6wq0X.js";import"./immer-CuGu772C.js";import"./reselect-BDnngDK3.js";import"./redux-thunk-ClJT1hhx.js";import"./react-transition-group-BAxSnyq0.js";import"./@babel-DVGmkmWW.js";import"./dom-helpers-D0mFdbeO.js";import"./moment-CbGOrKEH.js";import"./axios-BtoyVZBe.js";import"./promise.prototype.finally-DJCfT-IS.js";import"./define-properties-DbWdedhA.js";import"./object-keys-r3t7_5tw.js";import"./es-abstract-CgmC-o8X.js";import"./is-callable-DcnXhopT.js";import"./set-function-name-DTEANxoX.js";import"./functions-have-names-V93JBYlf.js";import"./ethers--KTxgaFs.js";import"./echarts-CrZI9CbR.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CQaTwPXd.js";import"./rc-util-EzFa6Sk3.js";import"./@ant-design-BWF4Xn_1.js";import"./@emotion-CW87jbl0.js";import"./stylis-DsJDcYJc.js";import"./classnames-CwUkGHy7.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@ctrl-4GH61kPu.js";import"./rc-resize-observer-APHP0lmT.js";import"./rc-motion-_6UxEo9W.js";import"./rc-tooltip-DXa0QYq8.js";import"./@rc-component-C53SeA9w.js";import"./rc-overflow-B7atUzjy.js";import"./rc-menu-BfKrKyI0.js";import"./rc-select-Bigw3quz.js";import"./rc-virtual-list-khs1ZQ38.js";import"./rc-field-form-w6ukghIa.js";import"./rc-table-Mpsvoqjw.js";import"./rc-tree-DjjRh2HP.js";import"./rc-checkbox-BIqD4YZd.js";import"./rc-pagination-DjL2-7nn.js";import"./rc-picker-DGYqqKqF.js";import"./rc-dropdown-DOr6bZI5.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CXG740_T.js";import"./rc-textarea-u6IfKFWK.js";function qe(){const c=D(),d=t=>{},s=l.useRef({page:1,page_size:11}),[p,f]=l.useState([{label:"Blocks",filter:null,active:!0},{label:"Blackhole Blocks",filter:1,active:!1},{label:"Penalty Blocks",filter:2,active:!1}]),[h,m]=l.useState(!1),[i,g]=l.useState(),[a,u]=l.useState({blocks:[],total:0}),n=async()=>{try{m(!0);const t=await B(s.current);u(t)}finally{m(!1)}};l.useEffect(()=>{n(),j()},[]);const v=t=>{s.current.page=t,n()},j=async()=>{const t=await y();g(t)},N=t=>{c("/explorer/blockDetail/".concat(t))},k=t=>{c("/explorer/accountDetail/".concat(t))},w=[{title:"Height",key:"number",render(t){const r=t;return e.jsx("span",{className:"link hover:color-#1677ff",onClick:()=>N(r.number),children:r.number})}},{title:"Proposer",key:"miner",render(t){const r=t;return e.jsx("span",{className:"link hover:color-#1677ff",onClick:()=>k(r.miner),children:"".concat(C(r.miner,5,18))})}},{title:"TXN",key:"totalTransaction"},{title:"Gas Used",key:"Height",render(t){const r=t;return"".concat(r.gasUsed," %")}},{title:"Gas Limit",key:"gasLimit",render(t){return t.gasLimit}},{title:"Block Size",key:"size",render(t){const r=t;return"".concat(r.size," Bytes")}}],z=t=>{const r=p.map(o=>o);r.forEach(o=>{o.filter===t.filter?o.active=!0:o.active=!1}),f(r);const x=t.filter;x?s.current.filter=x:delete s.current.filter,s.current.page=1,n()};return e.jsxs("div",{className:"page-chain flex flex-col flex-col-reverse lg:flex-row",children:[e.jsxs("div",{className:"chain-header flex-1 mt-20px lg:mt-0 w-100%",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row w-100% lg:h-48px",children:[e.jsx("div",{className:"flex-1 flex gap-10px",children:p.map(t=>e.jsx("div",{className:"chain-btn white-space ".concat(t.active?"active":""),onClick:()=>z(t),children:t.label},t.label))}),e.jsx("div",{className:"flex-1 lg:ml-26px pt-20px lg:pt-0",children:e.jsx(S,{onSearch:d,className:"font-size-14px"})})]}),e.jsx("div",{className:"lg:h-63.5vh",children:e.jsxs("div",{className:"table-list mt-14px flex-1 h-100%",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between p-10px",children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"CHAIN INFORMATION"}),e.jsx(T,{current:s.current.page,pageSize:s.current.page_size,total:a.total,onChange:v})]}),e.jsx("div",{className:"flex h-90%",children:e.jsx(b,{columns:w,dataSources:a==null?void 0:a.blocks,loading:h})})]})})]}),e.jsxs("div",{className:"mt-20px lg:mt-0 w-100% lg:w-250px lg:ml-22px flex justify-between flex-row lg:flex-col",children:[e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"Block Height"}),e.jsx("div",{className:"font-size-16px lg:font-size-24px mt-16px",children:i==null?void 0:i.totalBlock})]})}),e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"Total ERB Rewards"}),e.jsx("div",{className:"font-size-16px lg:font-size-24px mt-16px",children:i==null?void 0:i.rewardCoinCount})]})}),e.jsx("div",{className:"total-card flex justify-center items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-size-12px lg:font-size-16px",children:"Total CSBT"}),e.jsx("div",{className:"font-size-16px lg:font-size-24px mt-16px",children:i==null?void 0:i.rewardSNFTCount})]})})]})]})}export{qe as default};
