System.register(["./@babel-legacy-swh58CBx.js","./react-legacy-OG6ByqCe.js","./react-dom-legacy-DLFN5MI-.js","./classnames-legacy-CB5qBmms.js","./rc-motion-legacy-DOcBr6U6.js","./rc-util-legacy-848S57G3.js"],(function(e,n){"use strict";var t,o,c,r,i,l,a,s,u,f,d,v,m,y;return{setters:[function(e){t=e.c,o=e.d,c=e.g,r=e.b,i=e.h,l=e.e,a=e.f},function(e){s=e.r,u=e.a},function(e){f=e.r},function(e){d=e.c},function(e){v=e.a},function(e){m=e.A,y=e.K}],execute:function(){e("u",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getContainer,o=void 0===n?E:n,c=e.motion,r=e.prefixCls,l=e.maxCount,u=e.className,f=e.style,d=e.onAllRemoved,v=e.stack,m=e.renderNotifications,y=i(e,N),p=s.useState(),g=t(p,2),h=g[0],x=g[1],b=s.useRef(),R=s.createElement(k,{container:h,ref:b,prefixCls:r,motion:c,maxCount:l,className:u,style:f,onAllRemoved:d,stack:v,renderNotifications:m}),j=s.useState([]),A=t(j,2),S=A[0],w=A[1],M=s.useMemo((function(){return{open:function(e){var n=function(){for(var e={},n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return t.forEach((function(n){n&&Object.keys(n).forEach((function(t){var o=n[t];void 0!==o&&(e[t]=o)}))})),e}(y,e);null!==n.key&&void 0!==n.key||(n.key="rc-notification-".concat(C),C+=1),w((function(e){return[].concat(a(e),[{type:"open",config:n}])}))},close:function(e){w((function(n){return[].concat(a(n),[{type:"close",key:e}])}))},destroy:function(){w((function(e){return[].concat(a(e),[{type:"destroy"}])}))}}}),[]);// ======================== Return ========================
// ======================= Container ======================
// React 18 should all in effect that we will check container in each render
// Which means getContainer should be stable.
return s.useEffect((function(){x(o())})),// ======================== Effect ========================
s.useEffect((function(){// Flush task when node ready
b.current&&S.length&&(S.forEach((function(e){switch(e.type){case"open":b.current.open(e.config);break;case"close":b.current.close(e.key);break;case"destroy":b.current.destroy()}})),// React 17 will mix order of effect & setState in async
// - open: setState[0]
// - effect[0]
// - open: setState[1]
// - effect setState([]) * here will clean up [0, 1] in React 17
w((function(e){return e.filter((function(e){return!S.includes(e)}))})))}),[S]),[M,R]}));var n=e("N",s.forwardRef((function(e,n){var i=e.prefixCls,l=e.style,a=e.className,u=e.duration,f=void 0===u?4.5:u,v=e.eventKey,p=e.content,g=e.closable,h=e.closeIcon,k=void 0===h?"x":h,N=e.props,E=e.onClick,C=e.onNoticeClose,x=e.times,b=e.hovering,R=s.useState(!1),j=t(R,2),A=j[0],S=j[1],w=b||A,M=function(){C(v)};// ======================== Effect ========================
s.useEffect((function(){if(!w&&f>0){var e=setTimeout((function(){M()}),1e3*f);return function(){clearTimeout(e)}}// eslint-disable-next-line react-hooks/exhaustive-deps
}),[f,w,x]);// ======================== Closable ========================
var I=s.useMemo((function(){return"object"===o(g)&&null!==g?g:g?{closeIcon:k}:{}}),[g,k]),L=m(I,!0),W="".concat(i,"-notice");return s.createElement("div",c({},N,{ref:n,className:d(W,a,r({},"".concat(W,"-closable"),g)),style:l,onMouseEnter:function(e){var n;S(!0),null==N||null===(n=N.onMouseEnter)||void 0===n||n.call(N,e)},onMouseLeave:function(e){var n;S(!1),null==N||null===(n=N.onMouseLeave)||void 0===n||n.call(N,e)},onClick:E}),s.createElement("div",{className:"".concat(W,"-content")},p),g&&s.createElement("a",c({tabIndex:0,className:"".concat(W,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==y.ENTER||M()},"aria-label":"Close"},L,{onClick:function(e){e.preventDefault(),e.stopPropagation(),M()}}),I.closeIcon))}))),p=u.createContext({}),g=(e("a",(function(e){var n=e.children,t=e.classNames;return u.createElement(p.Provider,{value:{classNames:t}},n)})),["className","style","classNames","styles"]),h=function(e){var f,m,y,h,k,N=e.configList,E=e.placement,C=e.prefixCls,x=e.className,b=e.style,R=e.motion,j=e.onAllNoticeRemoved,A=e.onNoticeClose,S=e.stack,w=s.useContext(p).classNames,M=s.useRef({}),I=s.useState(null),L=t(I,2),W=L[0],H=L[1],K=s.useState([]),O=t(K,2),P=O[0],T=O[1],D=N.map((function(e){return{config:e,key:String(e.key)}})),F=(k={offset:8,threshold:3,gap:16},(f=S)&&"object"===o(f)&&(k.offset=null!==(m=f.offset)&&void 0!==m?m:8,k.threshold=null!==(y=f.threshold)&&void 0!==y?y:3,k.gap=null!==(h=f.gap)&&void 0!==h?h:16),[!!f,k]),X=t(F,2),q=X[0],z=X[1],B=z.offset,G=z.threshold,J=z.gap,Q=q&&(P.length>0||D.length<=G),U="function"==typeof R?R(E):R;return s.useEffect((function(){q&&P.length>1&&T((function(e){return e.filter((function(e){return D.some((function(n){var t=n.key;return e===t}))}))}))}),[P,D,q]),s.useEffect((function(){var e,n;q&&M.current[null===(e=D[D.length-1])||void 0===e?void 0:e.key]&&H(M.current[null===(n=D[D.length-1])||void 0===n?void 0:n.key])}),[D,q]),u.createElement(v,c({key:E,className:d(C,"".concat(C,"-").concat(E),null==w?void 0:w.list,x,r(r({},"".concat(C,"-stack"),!!q),"".concat(C,"-stack-expanded"),Q)),style:b,keys:D,motionAppear:!0},U,{onAllRemoved:function(){j(E)}}),(function(e,t){var o=e.config,r=e.className,s=e.style,f=e.index,v=o,m=v.key,y=v.times,p=String(m),h=o,k=h.className,N=h.style,x=h.classNames,b=h.styles,R=i(h,g),j=D.findIndex((function(e){return e.key===p})),S={};if(q){var I=D.length-1-(j>-1?j:f-1),L="top"===E||"bottom"===E?"-50%":"0";if(I>0){var H,K,O;S.height=Q?null===(H=M.current[p])||void 0===H?void 0:H.offsetHeight:null==W?void 0:W.offsetHeight;for(var F=0,X=0;X<I;X++){var z;F+=(null===(z=M.current[D[D.length-1-X].key])||void 0===z?void 0:z.offsetHeight)+J}var G=(Q?F:I*B)*(E.startsWith("top")?1:-1),U=!Q&&null!=W&&W.offsetWidth&&null!==(K=M.current[p])&&void 0!==K&&K.offsetWidth?((null==W?void 0:W.offsetWidth)-2*B*(I<3?I:3))/(null===(O=M.current[p])||void 0===O?void 0:O.offsetWidth):1;S.transform="translate3d(".concat(L,", ").concat(G,"px, 0) scaleX(").concat(U,")")}else S.transform="translate3d(".concat(L,", 0, 0)")}return u.createElement("div",{ref:t,className:d("".concat(C,"-notice-wrapper"),r,null==x?void 0:x.wrapper),style:l(l(l({},s),S),null==b?void 0:b.wrapper),onMouseEnter:function(){return T((function(e){return e.includes(p)?e:[].concat(a(e),[p])}))},onMouseLeave:function(){return T((function(e){return e.filter((function(e){return e!==p}))}))}},u.createElement(n,c({},R,{ref:function(e){j>-1?M.current[p]=e:delete M.current[p]},prefixCls:C,classNames:x,styles:b,className:d(k,null==w?void 0:w.notice),style:N,times:y,key:m,eventKey:m,onNoticeClose:A,hovering:q&&P.length>0})))}))},k=s.forwardRef((function(e,n){var o=e.prefixCls,c=void 0===o?"rc-notification":o,r=e.container,i=e.motion,u=e.maxCount,d=e.className,v=e.style,m=e.onAllRemoved,y=e.stack,p=e.renderNotifications,g=s.useState([]),k=t(g,2),N=k[0],E=k[1],C=function(e){var n,t=N.find((function(n){return n.key===e}));null==t||null===(n=t.onClose)||void 0===n||n.call(t),E((function(n){return n.filter((function(n){return n.key!==e}))}))};s.useImperativeHandle(n,(function(){return{open:function(e){E((function(n){var t,o=a(n),c=o.findIndex((function(n){return n.key===e.key})),r=l({},e);return c>=0?(r.times=((null===(t=n[c])||void 0===t?void 0:t.times)||0)+1,o[c]=r):(r.times=0,o.push(r)),u>0&&o.length>u&&(o=o.slice(-u)),o}))},close:function(e){C(e)},destroy:function(){E([])}}}));var x=s.useState({}),b=t(x,2),R=b[0],j=b[1];s.useEffect((function(){var e={};N.forEach((function(n){var t=n.placement,o=void 0===t?"topRight":t;o&&(e[o]=e[o]||[],e[o].push(n))})),Object.keys(R).forEach((function(n){e[n]=e[n]||[]})),j(e)}),[N]);var A=function(e){j((function(n){var t=l({},n);return(t[e]||[]).length||delete t[e],t}))},S=s.useRef(!1);if(s.useEffect((function(){Object.keys(R).length>0?S.current=!0:S.current&&(null==m||m(),S.current=!1)}),[R]),!r)return null;var w=Object.keys(R);return f.createPortal(s.createElement(s.Fragment,null,w.map((function(e){var n=R[e],t=s.createElement(h,{key:e,configList:n,placement:e,prefixCls:c,className:null==d?void 0:d(e),style:null==v?void 0:v(e),motion:i,onNoticeClose:C,onAllNoticeRemoved:A,stack:y});return p?p(t,{prefixCls:c,key:e}):t}))),r)})),N=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],E=function(){return document.body},C=0}}}));
