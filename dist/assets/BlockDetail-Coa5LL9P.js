import{j as e,r as m}from"./react-CBAF3Uyv.js";import{l as B,c as o,u as F,s as z,v as b,g as P,m as T,t as _,w as E,n as L,x as R,y as G,p as X}from"./index-C2gWG0MG.js";import{f as I}from"./react-router-Bhs03PUC.js";import{P as H,F as M}from"./antd-PzIqpPj_.js";import{f as S}from"./ethers-BstvhKrt.js";import"./call-bind-CXEXM7Og.js";import"./get-intrinsic-CWn9CxNF.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B7YY3Jzv.js";import"./define-data-property-CU6ZIYlb.js";import"./es-define-property-BlwJlMsL.js";import"./gopd-9AXXY7mE.js";import"./has-property-descriptors-fNsJIl-I.js";import"./react-dom-CAO6cgV8.js";import"./scheduler-D70Pw1t3.js";import"./react-router-dom-BDzmUGOd.js";import"./@remix-run-CSnr7utK.js";import"./react-redux-CwRJ-DD5.js";import"./use-sync-external-store-D2Dpb26n.js";import"./@reduxjs-C9AHhNnv.js";import"./redux-BxK6wq0X.js";import"./immer-CuGu772C.js";import"./reselect-BDnngDK3.js";import"./redux-thunk-ClJT1hhx.js";import"./react-transition-group-Brw6IWwr.js";import"./@babel-DVGmkmWW.js";import"./dom-helpers-D0mFdbeO.js";import"./moment-CbGOrKEH.js";import"./axios-BtoyVZBe.js";import"./promise.prototype.finally-Kd1d3tEm.js";import"./define-properties-B83jVO4R.js";import"./object-keys-r3t7_5tw.js";import"./es-abstract-Bi3ojizx.js";import"./is-callable-DcnXhopT.js";import"./set-function-name-zd_hqtaf.js";import"./functions-have-names-V93JBYlf.js";import"./echarts-CrZI9CbR.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CQaTwPXd.js";import"./rc-util-QCJIF2Vz.js";import"./@ant-design-BnmYyEVZ.js";import"./@emotion-CW87jbl0.js";import"./stylis-DsJDcYJc.js";import"./classnames-CKeVMnuN.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@ctrl-4GH61kPu.js";import"./rc-resize-observer-5S44p-O-.js";import"./rc-motion-CH1JEF2r.js";import"./rc-tooltip-Cu8iVr43.js";import"./@rc-component-BriCudg9.js";import"./rc-overflow-CNtTx3br.js";import"./rc-menu-daKVGrV9.js";import"./rc-select-Cxbqm2bu.js";import"./rc-virtual-list-ypa5-6V7.js";import"./rc-field-form-aL4nyAMB.js";import"./rc-dialog-CXFQymF9.js";import"./rc-notification-BST5fa4j.js";import"./rc-table-T0JI0DD8.js";import"./rc-tree-Dx3fAiaQ.js";import"./rc-checkbox-pyhp67yT.js";import"./rc-pagination-DYoz4Sc2.js";import"./rc-picker-DQglgLpr.js";import"./rc-dropdown-CcgYhkwP.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CLMQVBH5.js";import"./rc-textarea-Cqv_Qx9X.js";function O(l){var c,s,p,x,n,h,g,f,k;const r=d=>{if(d&&d.length){let u=0;for(let N=0;N<d.length;N++)u=u+d[N].gasPrice;return u/d.length}return 0};return e.jsxs("div",{className:"font-size-12px color-white card-detail-box",children:[e.jsxs("div",{className:" color-#D387FF lh-4.5vh font-bold  text-left px-16px",children:["Block Details # ",(c=l.data)==null?void 0:c.number]}),e.jsxs("div",{className:"flex justify-between items-center line lh-3vh",children:[e.jsx("div",{className:" whitespace-nowrap text-ellipsis",children:"Block Generation Time"}),e.jsx("div",{className:"whitespace-nowrap text-ellipsis",children:e.jsx("div",{className:"whitespace-nowrap",children:B(((s=l.data)==null?void 0:s.timestamp)||0)})})]}),e.jsxs("div",{className:"flex justify-between items-center line lh-3vh",children:[e.jsx("div",{children:"Block Size"}),e.jsxs("div",{children:[((p=l.data)==null?void 0:p.size)||0," Bytes"]})]}),e.jsxs("div",{className:"flex justify-between items-center line lh-3vh",children:[e.jsx("div",{children:"Gas Used"}),e.jsxs("div",{children:[(x=l.data)==null?void 0:x.gasUsed,"(",((((n=l.data)==null?void 0:n.gasUsed)||0)/(((h=l.data)==null?void 0:h.gasLimit)||0)).toFixed(5),"%)"]})]}),e.jsxs("div",{className:"flex justify-between items-center line lh-3vh",children:[e.jsx("div",{children:"Gas Price"}),e.jsxs("div",{children:[r(((g=l.listTX)==null?void 0:g.transactions)||[])/1e9," GWei"]})]}),e.jsxs("div",{className:"flex justify-between items-center line lh-3vh",children:[e.jsx("div",{children:"Gas Limit"}),e.jsx("div",{children:(f=l.data)==null?void 0:f.gasLimit})]}),e.jsxs("div",{className:"flex justify-between items-center line lh-3vh",children:[e.jsx("div",{children:"Parent Hash"}),e.jsx("div",{className:"link hover:color-blue",children:o(((k=l.data)==null?void 0:k.parentHash)||"",6,6)})]})]})}function U(l){const{toAccountDetail:r}=F();return e.jsxs("div",{className:"font-size-12px color-white card-detail-box text-left h-20vh",children:[e.jsx("div",{className:"px-16px color-#D387FF lh-4.5vh font-bold",children:"Details"}),l==null?void 0:l.list.map((c,s)=>e.jsx("div",{className:"line lh-3vh text-ellipsis whitespace-nowrap hover:color-#8AA4FF cursor-pointer",onClick:()=>r(c),children:o(c)},s))]})}function W(l){const{toAccountDetail:r}=F();return e.jsxs("div",{className:"font-size-12px color-white card-detail-box text-left",children:[e.jsx("div",{className:"px-16px color-#D387FF lh-4.5vh font-bold ",children:"Blackhole Block Details"}),e.jsxs("div",{className:"flex color-#80838e line py-5px",children:[e.jsx("div",{className:"w-33.3% text-left",children:"Penalty Address"}),e.jsx("div",{className:"w-33.3% text-center",children:"Penalty Weight"}),e.jsx("div",{className:"w-33.3% text-right",children:"Current Weight"})]}),e.jsx("div",{className:"lg:h-17vh overflow-y-scroll scrollbar-y",children:l.list.map((c,s)=>e.jsxs("div",{className:"flex line lh-2.5vh text-center",children:[e.jsx("div",{className:"w-33.3% color-#8AA4FF text-left cursor-pointer",onClick:()=>r(c.address),children:o(c.address,3,5)}),e.jsx("div",{className:"w-33.3%",children:"20"}),e.jsx("div",{className:"w-33.3%  text-right",children:c.weight})]},s))})]})}function V(l){const{toAccountDetail:r}=F();return e.jsxs("div",{className:"font-size-12px color-white card-detail-box text-left h-auto lg:h-180px",children:[e.jsx("div",{className:"px-16px color-#D387FF lh-4.5vh font-bold",children:"Node Address"}),e.jsx("div",{className:"lg:h-15vh overflow-y-scroll scrollbar-y",children:l.list.map((c,s)=>e.jsx("div",{className:"line lh-3vh text-ellipsis whitespace-nowrap hover:color-#8AA4FF cursor-pointer flex-1",onClick:()=>r(c),children:o(c,10,10)},s))})]})}function $(l){var c,s;const{toAccountDetail:r}=F();return e.jsxs("div",{className:"font-size-12px color-white card-detail-box text-left",children:[e.jsx("div",{className:" color-#D387FF lh-4.5vh font-bold  text-left px-16px",children:"Punishment Details"}),e.jsxs("div",{className:"list-block h-auto lg:h-190px",children:[e.jsxs("div",{className:"flex justify-evenly line",children:[e.jsx("div",{className:"w-35%",children:"Address"}),e.jsx("div",{className:"w-25%",children:"Number"}),e.jsx("div",{className:"w-40%",children:"Type "})]}),e.jsx("div",{children:(s=(c=l==null?void 0:l.data)==null?void 0:c.data)==null?void 0:s.map((p,x)=>e.jsxs("div",{className:"flex h-2.8vh line items-center",children:[e.jsx("div",{className:"w-35% hover:color-#8AA4FF cursor-pointer",onClick:()=>r(p.address),children:o(p.address,4,4)}),e.jsx("div",{className:"w-25%",children:p.block_number}),e.jsx("div",{className:"w-40%",children:"Multi-signatures "})]},x))})]})]})}function J(l){var g,f,k,d,u,N,a;const[r,c]=m.useState(),[s,p]=m.useState([]),[x,n]=m.useState([]),{toAccountDetail:h}=F();return m.useEffect(()=>{var t,j,y;if(l.data){const v=(t=l.data)==null?void 0:t.find(w=>w.identity===1);v&&c(v);const C=(j=l.data)==null?void 0:j.filter(w=>w.identity===2);p(C);const A=(y=l.data)==null?void 0:y.filter(w=>w.identity===3);n(A)}},[l.data]),e.jsxs("div",{className:"font-size-12px color-white card-detail-box text-left",children:[e.jsx("div",{className:"color-#D387FF lh-4.5vh font-bold  text-left px-16px",children:"Reward List"}),e.jsx("div",{className:"font-bold line  lh-3vh",children:"Proposer"}),e.jsx("div",{className:"line lh-3vh",children:e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>h((r==null?void 0:r.address)||""),children:o((r==null?void 0:r.address)||"")})}),e.jsx("div",{className:"font-bold line lh-3vh",children:"Validator"}),e.jsxs("div",{className:"line lh-3vh text-ellipsis whitespace-nowrap",children:[e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var t;return h(((t=s[0])==null?void 0:t.address)||"")},children:o((g=s[0])==null?void 0:g.address,6,6)}),e.jsx("span",{className:"mx-5px",children:"|"}),e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var t;return h(((t=s[1])==null?void 0:t.address)||"")},children:o((f=s[1])==null?void 0:f.address,6,6)})]}),e.jsxs("div",{className:"line lh-3vh text-ellipsis whitespace-nowrap",children:[e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var t;return h(((t=s[2])==null?void 0:t.address)||"")},children:o((k=s[2])==null?void 0:k.address,6,6)}),e.jsx("span",{className:"mx-5px",children:"|"}),e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var t;return h(((t=s[3])==null?void 0:t.proxy)||"")},children:o((d=s[3])==null?void 0:d.address,6,6)})]}),e.jsxs("div",{className:"line lh-3vh text-ellipsis whitespace-nowrap",children:[e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var t;return h(((t=s[4])==null?void 0:t.address)||"")},children:o((u=s[4])==null?void 0:u.address,6,6)}),e.jsx("span",{className:"mx-5px",children:"|"}),e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var t;return h(((t=s[5])==null?void 0:t.address)||"")},children:o((N=s[5])==null?void 0:N.address,6,6)})]}),e.jsx("div",{className:"line lh-3vh text-ellipsis whitespace-nowrap",children:e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var t;return h(((t=s[6])==null?void 0:t.address)||"")},children:o((a=s[6])==null?void 0:a.address,6,6)})}),e.jsx("div",{className:"font-bold line  lh-3vh",children:"CSBT Pool"}),e.jsx("div",{className:"line lh-3vh text-ellipsis whitespace-nowrap flex",children:x.map((t,j)=>e.jsxs("div",{children:[e.jsx("span",{className:"link hover:color-#8AA4FF",onClick:()=>h((t==null?void 0:t.address)||""),children:o(t==null?void 0:t.address,2,2)}),j!==x.length-1?e.jsx("span",{className:"mx-5px",children:"|"}):e.jsx(e.Fragment,{})]},j))})]})}function Q(l){var h,g,f,k,d,u,N;const[r,c]=m.useState(),[s,p]=m.useState([]),{toAccountDetail:x}=F(),n="0x0000000000000000000000000000000000000000";return m.useEffect(()=>{var a,t;if(l.data){const j=(a=l.data)==null?void 0:a.find(v=>v.identity===1);j&&c(j);const y=(t=l.data)==null?void 0:t.filter(v=>v.identity===2);p(y)}},[l.data]),e.jsxs("div",{className:"font-size-12px color-white card-detail-box text-left",children:[e.jsx("div",{className:"px-16px color-#D387FF lh-4.5vh font-bold ",children:"Delegated Accounts"}),e.jsxs("div",{className:"line lh-3vh  flex justify-between",children:[e.jsxs("span",{className:"link hover:color-#8AA4FF",onClick:()=>x((r==null?void 0:r.proxy)||""),children:[e.jsx("img",{src:z,className:"w-12px mr-3px",alt:""}),o((r==null?void 0:r.proxy)||n,2,3)," "]}),e.jsx("span",{className:"mx-3px",children:"|"}),e.jsxs("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var a;return x(((a=s[0])==null?void 0:a.proxy)||"")},children:[e.jsx("img",{src:b,className:"h-12px mr-3px",alt:""}),o(((h=s[0])==null?void 0:h.proxy)||n,2,3)]}),e.jsx("span",{className:"mx-3px",children:"|"}),e.jsxs("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var a;return x(((a=s[1])==null?void 0:a.proxy)||n)},children:[e.jsx("img",{src:b,className:"h-12px m4-3px",alt:""}),o(((g=s[1])==null?void 0:g.proxy)||n,2,3)]})]}),e.jsxs("div",{className:"line lh-3vh  flex justify-between",children:[e.jsxs("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var a;return x(((a=s[2])==null?void 0:a.proxy)||n)},children:[e.jsx("img",{src:b,className:"h-12px mr-3px",alt:""}),o(((f=s[2])==null?void 0:f.proxy)||n,2,3)]}),e.jsx("span",{className:"mx-3px",children:"|"}),e.jsxs("span",{className:"link ",onClick:()=>{var a;return x(((a=s[3])==null?void 0:a.proxy)||n)},children:[e.jsx("img",{src:b,className:"h-12px mr-3px",alt:""}),o(((k=s[3])==null?void 0:k.proxy)||n,2,3)]}),e.jsx("span",{className:"mx-3px",children:"|"}),e.jsxs("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var a;return x(((a=s[4])==null?void 0:a.proxy)||n)},children:[e.jsx("img",{src:b,className:"h-12px mr-3px",alt:""}),o(((d=s[4])==null?void 0:d.proxy)||n,2,3)]})]}),e.jsxs("div",{className:"line lh-3vh flex justify-start ",children:[e.jsxs("span",{className:"link hover:color-#8AA4FF",onClick:()=>{var a;return x(((a=s[5])==null?void 0:a.proxy)||"")},children:[e.jsx("img",{src:b,className:"h-12px mr-3px",alt:""}),o(((u=s[5])==null?void 0:u.proxy)||n,2,3)]}),e.jsx("span",{className:"mx-3px",children:"|"}),e.jsxs("span",{className:"link ",onClick:()=>{var a;return x(((a=s[6])==null?void 0:a.proxy)||"")},children:[e.jsx("img",{src:b,className:"h-12px mr-3px",alt:""}),o(((N=s[6])==null?void 0:N.proxy)||n,2,3)]})]})]})}function hs(){const l=I(),r=P(),c=m.useRef({page:1,page_size:11}),s=i=>{c.current.page=i},{toAccountDetail:p,toTxDetail:x}=F(),[n,h]=m.useState(),g=[{title:"TXN Hash",key:"hash",align:"center",fixed:"left",render(i){return e.jsx("span",{className:"link hover:color-blue",onClick:()=>x(i.hash),children:o(i.hash,6,6)})}},{title:"TXN Time",key:"timestamp",align:"center",width:70,render(i){return e.jsx("div",{className:"whitespace-nowrap",children:B(i.timestamp)})}},{title:"Sender",key:"from",align:"center",render(i){return e.jsx("span",{className:"link hover:color-blue",onClick:()=>p(i.from),children:o(i.from,6,6)})}},{title:"Receiver",key:"to",align:"center",width:150,render(i){return e.jsx("span",{className:"link hover:color-blue",onClick:()=>p(i.to),children:o(i.to,6,6)})}},{title:"Transaction Value",key:"value",align:"center",render(i){return S(i.value)}},{title:"TXN Type",key:"input",align:"center",render(i){return e.jsx("div",{className:"overflow-hidden whitespace-nowrap",title:T(i.input),children:T(i.input)})}},{title:"Status",key:"status",align:"center",render(i){return e.jsx("div",{className:"px-4px rounded-4px ".concat(i.status===1?"color-#9effcc bg-#3B4C43":"color-#FE4FA7 bg-#4C293A"," rgba(168, 255, 210, .2)"),children:i.status===1?"Success":"Defeat"})}},{title:"TXN Fee",align:"center",key:"gasPrice",render(i){return _(S(i.gasPrice*i.gasUsed),X)}}],[f,k]=m.useState(),[d,u]=m.useState(),N=async()=>{if(l.blockNumber){const i=await E(l.blockNumber);k(i)}},a=async()=>{l.blockNumber&&(c.current.number=Number(l.blockNumber));const i=await L(c.current);h(i)},t=async()=>{if(l.blockNumber){const i=await R(Number(l.blockNumber));u(i)}},[j,y]=m.useState(),[v,C]=m.useState(),A=m.useMemo(()=>{if(v&&j){if(v.data.length)return 1;if(j.data.length)return 2}return 3},[v,j]),w=async i=>{const D=await G({page:1,page_size:11,reason:i,number:Number(l.blockNumber)});i===1&&C(D),i===2&&y(D)};return m.useEffect(()=>{N(),a(),t(),w(1),w(2)},[]),e.jsxs("div",{className:"block-detail flex flex-col lg:flex-row lg:h-72vh",children:[e.jsxs("div",{className:"lg:w-340px flex flex-col lg:flex-row lg:flex-col gap-1.3vh mt-14px lg:mt-0",children:[e.jsx(O,{data:d,listTX:n}),A===2?e.jsxs(e.Fragment,{children:[e.jsx($,{data:j}),e.jsx(U,{list:(d==null?void 0:d.proof)||[]})]}):e.jsx(e.Fragment,{}),A===1?e.jsxs(e.Fragment,{children:[e.jsx(W,{list:(v==null?void 0:v.data)||[]}),e.jsx(V,{list:(d==null?void 0:d.proposers)||[]})]}):e.jsx(e.Fragment,{}),A===3?e.jsxs(e.Fragment,{children:[e.jsx(J,{data:f}),e.jsx(Q,{data:f})]}):e.jsx(e.Fragment,{})]}),e.jsxs("div",{className:"flex-1 lg:ml-20px table-box mt-14px lg:mt-0",children:[e.jsxs("div",{className:"text-left px-10px py-8px lh-4vh flex flex-row items-center justify-between w-100%",children:[e.jsx("div",{className:"font-size-16px hidden lg:block",children:"TRANSACTIONS LIST"}),e.jsx("div",{className:"font-size-16px block lg:hidden",children:"TRANSACTIONS"}),e.jsx("div",{children:e.jsx(H,{current:c.current.page,pageSize:c.current.page_size,total:(n==null?void 0:n.total)||0,onChange:s,showQuickJumper:!!r.isMobile,simple:!!r.isMobile})})]}),e.jsx("div",{className:" overflow-x-scroll scrollbar-x h-100% lg:h-60vh",children:e.jsx(M,{columns:g,dataSource:n==null?void 0:n.transactions,pagination:!1})})]})]})}export{hs as default};
